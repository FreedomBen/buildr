<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Buildr::ArtifactNamespace - buildr</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/buildr/packaging/artifact_namespace.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="../Object.html">Object</a>
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="../Enumerable.html">Enumerable</a>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-5B-5D">::[]</a>
    
    <li><a href="#method-c-clear">::clear</a>
    
    <li><a href="#method-c-for">::for</a>
    
    <li><a href="#method-c-instance">::instance</a>
    
    <li><a href="#method-c-load">::load</a>
    
    <li><a href="#method-c-root">::root</a>
    
    <li><a href="#method-c-to_hash">::to_hash</a>
    
    <li><a href="#method-i-5B-5D">#[]</a>
    
    <li><a href="#method-i-5B-5D-3D">#[]=</a>
    
    <li><a href="#method-i-accessor">#accessor</a>
    
    <li><a href="#method-i-alias">#alias</a>
    
    <li><a href="#method-i-artifacts">#artifacts</a>
    
    <li><a href="#method-i-clear">#clear</a>
    
    <li><a href="#method-i-delete">#delete</a>
    
    <li><a href="#method-i-each">#each</a>
    
    <li><a href="#method-i-fetch">#fetch</a>
    
    <li><a href="#method-i-group">#group</a>
    
    <li><a href="#method-i-key-3F">#key?</a>
    
    <li><a href="#method-i-keys">#keys</a>
    
    <li><a href="#method-i-method_missing">#method_missing</a>
    
    <li><a href="#method-i-need">#need</a>
    
    <li><a href="#method-i-ns">#ns</a>
    
    <li><a href="#method-i-ns-3F">#ns?</a>
    
    <li><a href="#method-i-parent">#parent</a>
    
    <li><a href="#method-i-parent-3D">#parent=</a>
    
    <li><a href="#method-i-root">#root</a>
    
    <li><a href="#method-i-root-3F">#root?</a>
    
    <li><a href="#method-i-use">#use</a>
    
    <li><a href="#method-i-values">#values</a>
    
    <li><a href="#method-i-values_at">#values_at</a>
    
    <li><a href="#method-i-virtual">#virtual</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../CHANGELOG.html">CHANGELOG</a>
  
    <li class="file"><a href="../LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../NOTICE.html">NOTICE</a>
  
    <li class="file"><a href="../README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Buildr.html">Buildr</a>
  
    <li><a href="../Buildr/ActsAsArtifact.html">Buildr::ActsAsArtifact</a>
  
    <li><a href="../Buildr/Ant.html">Buildr::Ant</a>
  
    <li><a href="../Buildr/Apt.html">Buildr::Apt</a>
  
    <li><a href="../Buildr/ArchiveTask.html">Buildr::ArchiveTask</a>
  
    <li><a href="../Buildr/ArchiveTask/Merge.html">Buildr::ArchiveTask::Merge</a>
  
    <li><a href="../Buildr/Artifact.html">Buildr::Artifact</a>
  
    <li><a href="../Buildr/ArtifactNamespace.html">Buildr::ArtifactNamespace</a>
  
    <li><a href="../Buildr/ArtifactNamespace/ArtifactRequirement.html">Buildr::ArtifactNamespace::ArtifactRequirement</a>
  
    <li><a href="../Buildr/ArtifactSearch.html">Buildr::ArtifactSearch</a>
  
    <li><a href="../Buildr/Build.html">Buildr::Build</a>
  
    <li><a href="../Buildr/CC.html">Buildr::CC</a>
  
    <li><a href="../Buildr/CCTask.html">Buildr::CCTask</a>
  
    <li><a href="../Buildr/Checks.html">Buildr::Checks</a>
  
    <li><a href="../Buildr/Checks/Expectation.html">Buildr::Checks::Expectation</a>
  
    <li><a href="../Buildr/Clojure.html">Buildr::Clojure</a>
  
    <li><a href="../Buildr/Cobertura.html">Buildr::Cobertura</a>
  
    <li><a href="../Buildr/Cobertura/CoberturaCheck.html">Buildr::Cobertura::CoberturaCheck</a>
  
    <li><a href="../Buildr/Compile.html">Buildr::Compile</a>
  
    <li><a href="../Buildr/CompileTask.html">Buildr::CompileTask</a>
  
    <li><a href="../Buildr/Compiler.html">Buildr::Compiler</a>
  
    <li><a href="../Buildr/Compiler/Ecj.html">Buildr::Compiler::Ecj</a>
  
    <li><a href="../Buildr/Compiler/ExternalJavac.html">Buildr::Compiler::ExternalJavac</a>
  
    <li><a href="../Buildr/Compiler/Javac.html">Buildr::Compiler::Javac</a>
  
    <li><a href="../Buildr/ConcatTask.html">Buildr::ConcatTask</a>
  
    <li><a href="../Buildr/Doc.html">Buildr::Doc</a>
  
    <li><a href="../Buildr/Doc/Base.html">Buildr::Doc::Base</a>
  
    <li><a href="../Buildr/Doc/DocTask.html">Buildr::Doc::DocTask</a>
  
    <li><a href="../Buildr/Doc/Groovydoc.html">Buildr::Doc::Groovydoc</a>
  
    <li><a href="../Buildr/Doc/GroovydocDefaults.html">Buildr::Doc::GroovydocDefaults</a>
  
    <li><a href="../Buildr/Doc/Javadoc.html">Buildr::Doc::Javadoc</a>
  
    <li><a href="../Buildr/Doc/JavadocDefaults.html">Buildr::Doc::JavadocDefaults</a>
  
    <li><a href="../Buildr/Doc/Scaladoc.html">Buildr::Doc::Scaladoc</a>
  
    <li><a href="../Buildr/Doc/ScaladocDefaults.html">Buildr::Doc::ScaladocDefaults</a>
  
    <li><a href="../Buildr/Doc/VScaladoc.html">Buildr::Doc::VScaladoc</a>
  
    <li><a href="../Buildr/Eclipse.html">Buildr::Eclipse</a>
  
    <li><a href="../Buildr/Eclipse/Eclipse.html">Buildr::Eclipse::Eclipse</a>
  
    <li><a href="../Buildr/Eclipse/Java.html">Buildr::Eclipse::Java</a>
  
    <li><a href="../Buildr/Eclipse/Options.html">Buildr::Eclipse::Options</a>
  
    <li><a href="../Buildr/Eclipse/Plugin.html">Buildr::Eclipse::Plugin</a>
  
    <li><a href="../Buildr/Eclipse/Scala.html">Buildr::Eclipse::Scala</a>
  
    <li><a href="../Buildr/Emma.html">Buildr::Emma</a>
  
    <li><a href="../Buildr/Extension.html">Buildr::Extension</a>
  
    <li><a href="../Buildr/Extension/ClassMethods.html">Buildr::Extension::ClassMethods</a>
  
    <li><a href="../Buildr/Filter.html">Buildr::Filter</a>
  
    <li><a href="../Buildr/Filter/Mapper.html">Buildr::Filter::Mapper</a>
  
    <li><a href="../Buildr/GitRelease.html">Buildr::GitRelease</a>
  
    <li><a href="../Buildr/Groovy.html">Buildr::Groovy</a>
  
    <li><a href="../Buildr/Groovy/EasyB.html">Buildr::Groovy::EasyB</a>
  
    <li><a href="../Buildr/Groovy/GroovySH.html">Buildr::Groovy::GroovySH</a>
  
    <li><a href="../Buildr/Groovy/Groovyc.html">Buildr::Groovy::Groovyc</a>
  
    <li><a href="../Buildr/HgRelease.html">Buildr::HgRelease</a>
  
    <li><a href="../Buildr/IntegrationTestsTask.html">Buildr::IntegrationTestsTask</a>
  
    <li><a href="../Buildr/IntellijIdea.html">Buildr::IntellijIdea</a>
  
    <li><a href="../Buildr/IntellijIdea/IdeaFile.html">Buildr::IntellijIdea::IdeaFile</a>
  
    <li><a href="../Buildr/IntellijIdea/IdeaModule.html">Buildr::IntellijIdea::IdeaModule</a>
  
    <li><a href="../Buildr/IntellijIdea/IdeaProject.html">Buildr::IntellijIdea::IdeaProject</a>
  
    <li><a href="../Buildr/IntellijIdea/ProjectExtension.html">Buildr::IntellijIdea::ProjectExtension</a>
  
    <li><a href="../Buildr/JBehave.html">Buildr::JBehave</a>
  
    <li><a href="../Buildr/JMock.html">Buildr::JMock</a>
  
    <li><a href="../Buildr/JRebel.html">Buildr::JRebel</a>
  
    <li><a href="../Buildr/JUnit.html">Buildr::JUnit</a>
  
    <li><a href="../Buildr/JUnit/Report.html">Buildr::JUnit::Report</a>
  
    <li><a href="../Buildr/Layout.html">Buildr::Layout</a>
  
    <li><a href="../Buildr/Layout/Default.html">Buildr::Layout::Default</a>
  
    <li><a href="../Buildr/MultiTest.html">Buildr::MultiTest</a>
  
    <li><a href="../Buildr/OptionalArtifact.html">Buildr::OptionalArtifact</a>
  
    <li><a href="../Buildr/Options.html">Buildr::Options</a>
  
    <li><a href="../Buildr/Options/Proxies.html">Buildr::Options::Proxies</a>
  
    <li><a href="../Buildr/POM.html">Buildr::POM</a>
  
    <li><a href="../Buildr/Package.html">Buildr::Package</a>
  
    <li><a href="../Buildr/PackageGemTask.html">Buildr::PackageGemTask</a>
  
    <li><a href="../Buildr/Packaging.html">Buildr::Packaging</a>
  
    <li><a href="../Buildr/Packaging/Java.html">Buildr::Packaging::Java</a>
  
    <li><a href="../Buildr/Packaging/Java/AarTask.html">Buildr::Packaging::Java::AarTask</a>
  
    <li><a href="../Buildr/Packaging/Java/EarTask.html">Buildr::Packaging::Java::EarTask</a>
  
    <li><a href="../Buildr/Packaging/Java/JarTask.html">Buildr::Packaging::Java::JarTask</a>
  
    <li><a href="../Buildr/Packaging/Java/Manifest.html">Buildr::Packaging::Java::Manifest</a>
  
    <li><a href="../Buildr/Packaging/Java/WarTask.html">Buildr::Packaging::Java::WarTask</a>
  
    <li><a href="../Buildr/Packaging/Scala.html">Buildr::Packaging::Scala</a>
  
    <li><a href="../Buildr/ProcessStatus.html">Buildr::ProcessStatus</a>
  
    <li><a href="../Buildr/Project.html">Buildr::Project</a>
  
    <li><a href="../Buildr/RSpec.html">Buildr::RSpec</a>
  
    <li><a href="../Buildr/Repositories.html">Buildr::Repositories</a>
  
    <li><a href="../Buildr/ResourcesTask.html">Buildr::ResourcesTask</a>
  
    <li><a href="../Buildr/Run.html">Buildr::Run</a>
  
    <li><a href="../Buildr/Run/Base.html">Buildr::Run::Base</a>
  
    <li><a href="../Buildr/Run/JavaRunner.html">Buildr::Run::JavaRunner</a>
  
    <li><a href="../Buildr/Run/RunTask.html">Buildr::Run::RunTask</a>
  
    <li><a href="../Buildr/Scala.html">Buildr::Scala</a>
  
    <li><a href="../Buildr/Scala.html">Buildr::Scala</a>
  
    <li><a href="../Buildr/Scala/Check.html">Buildr::Scala::Check</a>
  
    <li><a href="../Buildr/Scala/Mockito.html">Buildr::Scala::Mockito</a>
  
    <li><a href="../Buildr/Scala/ProjectExtension.html">Buildr::Scala::ProjectExtension</a>
  
    <li><a href="../Buildr/Scala/ScalaShell.html">Buildr::Scala::ScalaShell</a>
  
    <li><a href="../Buildr/Scala/ScalaTest.html">Buildr::Scala::ScalaTest</a>
  
    <li><a href="../Buildr/Scala/Scalac.html">Buildr::Scala::Scalac</a>
  
    <li><a href="../Buildr/Compiler/Javac.html">Buildr::Scala::Scalac::Javac</a>
  
    <li><a href="../Buildr/Scala/ScalacOptions.html">Buildr::Scala::ScalacOptions</a>
  
    <li><a href="../Buildr/Scala/Specs.html">Buildr::Scala::Specs</a>
  
    <li><a href="../Buildr/Scala/Specs2.html">Buildr::Scala::Specs2</a>
  
    <li><a href="../Buildr/Settings.html">Buildr::Settings</a>
  
    <li><a href="../Buildr/Shell.html">Buildr::Shell</a>
  
    <li><a href="../Buildr/Shell/Base.html">Buildr::Shell::Base</a>
  
    <li><a href="../Buildr/Shell/BeanShell.html">Buildr::Shell::BeanShell</a>
  
    <li><a href="../Buildr/Shell/Clojure.html">Buildr::Shell::Clojure</a>
  
    <li><a href="../Buildr/Shell/JIRB.html">Buildr::Shell::JIRB</a>
  
    <li><a href="../Buildr/Shell/ShellTask.html">Buildr::Shell::ShellTask</a>
  
    <li><a href="../Buildr/SvnRelease.html">Buildr::SvnRelease</a>
  
    <li><a href="../Buildr/TarTask.html">Buildr::TarTask</a>
  
    <li><a href="../Buildr/Test.html">Buildr::Test</a>
  
    <li><a href="../Buildr/Test/SkipIfNoTest.html">Buildr::Test::SkipIfNoTest</a>
  
    <li><a href="../Buildr/TestFramework.html">Buildr::TestFramework</a>
  
    <li><a href="../Buildr/TestFramework/Base.html">Buildr::TestFramework::Base</a>
  
    <li><a href="../Buildr/TestFramework/JRubyBased.html">Buildr::TestFramework::JRubyBased</a>
  
    <li><a href="../Buildr/TestFramework/JRubyBased/ClassMethods.html">Buildr::TestFramework::JRubyBased::ClassMethods</a>
  
    <li><a href="../Buildr/TestFramework/Java.html">Buildr::TestFramework::Java</a>
  
    <li><a href="../Buildr/TestFramework/TestResult.html">Buildr::TestFramework::TestResult</a>
  
    <li><a href="../Buildr/TestFramework/TestResult/Error.html">Buildr::TestFramework::TestResult::Error</a>
  
    <li><a href="../Buildr/TestFramework/TestResult/YamlFormatter.html">Buildr::TestFramework::TestResult::YamlFormatter</a>
  
    <li><a href="../Buildr/TestNG.html">Buildr::TestNG</a>
  
    <li><a href="../Buildr/TestTask.html">Buildr::TestTask</a>
  
    <li><a href="../Buildr/Unzip.html">Buildr::Unzip</a>
  
    <li><a href="../Buildr/Util.html">Buildr::Util</a>
  
    <li><a href="../Buildr/VersionRequirement.html">Buildr::VersionRequirement</a>
  
    <li><a href="../Buildr/ZipTask.html">Buildr::ZipTask</a>
  
    <li><a href="../Resolv.html">Resolv</a>
  
    <li><a href="../Resolv/DNS.html">Resolv::DNS</a>
  
    <li><a href="../Resolv/DNS/Config.html">Resolv::DNS::Config</a>
  
    <li><a href="../Resolv/DNS/Config/NXDomain.html">Resolv::DNS::Config::NXDomain</a>
  
    <li><a href="../Resolv/DNS/Config/OtherResolvError.html">Resolv::DNS::Config::OtherResolvError</a>
  
    <li><a href="../Resolv/DNS/DecodeError.html">Resolv::DNS::DecodeError</a>
  
    <li><a href="../Resolv/DNS/EncodeError.html">Resolv::DNS::EncodeError</a>
  
    <li><a href="../Resolv/DNS/Name.html">Resolv::DNS::Name</a>
  
    <li><a href="../Resolv/DNS/Query.html">Resolv::DNS::Query</a>
  
    <li><a href="../Resolv/DNS/Requester.html">Resolv::DNS::Requester</a>
  
    <li><a href="../Resolv/DNS/Requester/RequestError.html">Resolv::DNS::Requester::RequestError</a>
  
    <li><a href="../Resolv/DNS/Resource.html">Resolv::DNS::Resource</a>
  
    <li><a href="../Resolv/DNS/Resource/ANY.html">Resolv::DNS::Resource::ANY</a>
  
    <li><a href="../Resolv/DNS/Resource/CNAME.html">Resolv::DNS::Resource::CNAME</a>
  
    <li><a href="../Resolv/DNS/Resource/DomainName.html">Resolv::DNS::Resource::DomainName</a>
  
    <li><a href="../Resolv/DNS/Resource/Generic.html">Resolv::DNS::Resource::Generic</a>
  
    <li><a href="../Resolv/DNS/Resource/HINFO.html">Resolv::DNS::Resource::HINFO</a>
  
    <li><a href="../Resolv/DNS/Resource/IN.html">Resolv::DNS::Resource::IN</a>
  
    <li><a href="../Resolv/DNS/Resource/IN/A.html">Resolv::DNS::Resource::IN::A</a>
  
    <li><a href="../Resolv/DNS/Resource/IN/AAAA.html">Resolv::DNS::Resource::IN::AAAA</a>
  
    <li><a href="../Resolv/DNS/Resource/IN/SRV.html">Resolv::DNS::Resource::IN::SRV</a>
  
    <li><a href="../Resolv/DNS/Resource/IN/WKS.html">Resolv::DNS::Resource::IN::WKS</a>
  
    <li><a href="../Resolv/DNS/Resource/MINFO.html">Resolv::DNS::Resource::MINFO</a>
  
    <li><a href="../Resolv/DNS/Resource/MX.html">Resolv::DNS::Resource::MX</a>
  
    <li><a href="../Resolv/DNS/Resource/NS.html">Resolv::DNS::Resource::NS</a>
  
    <li><a href="../Resolv/DNS/Resource/PTR.html">Resolv::DNS::Resource::PTR</a>
  
    <li><a href="../Resolv/DNS/Resource/SOA.html">Resolv::DNS::Resource::SOA</a>
  
    <li><a href="../Resolv/DNS/Resource/TXT.html">Resolv::DNS::Resource::TXT</a>
  
    <li><a href="../Resolv/Hosts.html">Resolv::Hosts</a>
  
    <li><a href="../Resolv/IPv4.html">Resolv::IPv4</a>
  
    <li><a href="../Resolv/IPv6.html">Resolv::IPv6</a>
  
    <li><a href="../Resolv/ResolvError.html">Resolv::ResolvError</a>
  
    <li><a href="../Resolv/ResolvTimeout.html">Resolv::ResolvTimeout</a>
  
    <li><a href="../OptionParser.html">OptionParser</a>
  
    <li><a href="../OptionParser/Acceptables.html">OptionParser::Acceptables</a>
  
    <li><a href="../OptionParser/AmbiguousArgument.html">OptionParser::AmbiguousArgument</a>
  
    <li><a href="../OptionParser/AmbiguousOption.html">OptionParser::AmbiguousOption</a>
  
    <li><a href="../OptionParser/Arguable.html">OptionParser::Arguable</a>
  
    <li><a href="../OptionParser/CompletingHash.html">OptionParser::CompletingHash</a>
  
    <li><a href="../OptionParser/Completion.html">OptionParser::Completion</a>
  
    <li><a href="../OptionParser/InvalidArgument.html">OptionParser::InvalidArgument</a>
  
    <li><a href="../OptionParser/InvalidOption.html">OptionParser::InvalidOption</a>
  
    <li><a href="../OptionParser/List.html">OptionParser::List</a>
  
    <li><a href="../OptionParser/MissingArgument.html">OptionParser::MissingArgument</a>
  
    <li><a href="../OptionParser/NeedlessArgument.html">OptionParser::NeedlessArgument</a>
  
    <li><a href="../OptionParser/OptionMap.html">OptionParser::OptionMap</a>
  
    <li><a href="../OptionParser/ParseError.html">OptionParser::ParseError</a>
  
    <li><a href="../OptionParser/Switch.html">OptionParser::Switch</a>
  
    <li><a href="../OptionParser/Switch/NoArgument.html">OptionParser::Switch::NoArgument</a>
  
    <li><a href="../OptionParser/Switch/OptionalArgument.html">OptionParser::Switch::OptionalArgument</a>
  
    <li><a href="../OptionParser/Switch/PlacedArgument.html">OptionParser::Switch::PlacedArgument</a>
  
    <li><a href="../OptionParser/Switch/RequiredArgument.html">OptionParser::Switch::RequiredArgument</a>
  
    <li><a href="../Prime.html">Prime</a>
  
    <li><a href="../Prime/EratosthenesGenerator.html">Prime::EratosthenesGenerator</a>
  
    <li><a href="../Prime/EratosthenesSieve.html">Prime::EratosthenesSieve</a>
  
    <li><a href="../Prime/Generator23.html">Prime::Generator23</a>
  
    <li><a href="../Prime/OldCompatibility.html">Prime::OldCompatibility</a>
  
    <li><a href="../Prime/PseudoPrimeGenerator.html">Prime::PseudoPrimeGenerator</a>
  
    <li><a href="../Prime/TrialDivision.html">Prime::TrialDivision</a>
  
    <li><a href="../Prime/TrialDivisionGenerator.html">Prime::TrialDivisionGenerator</a>
  
    <li><a href="../FileUtils.html">FileUtils</a>
  
    <li><a href="../FileUtils/DryRun.html">FileUtils::DryRun</a>
  
    <li><a href="../FileUtils/LowMethods.html">FileUtils::LowMethods</a>
  
    <li><a href="../FileUtils/NoWrite.html">FileUtils::NoWrite</a>
  
    <li><a href="../FileUtils/StreamUtils_.html">FileUtils::StreamUtils_</a>
  
    <li><a href="../FileUtils/Verbose.html">FileUtils::Verbose</a>
  
    <li><a href="../GetoptLong.html">GetoptLong</a>
  
    <li><a href="../GetoptLong/AmbiguousOption.html">GetoptLong::AmbiguousOption</a>
  
    <li><a href="../GetoptLong/Error.html">GetoptLong::Error</a>
  
    <li><a href="../GetoptLong/InvalidOption.html">GetoptLong::InvalidOption</a>
  
    <li><a href="../GetoptLong/MissingArgument.html">GetoptLong::MissingArgument</a>
  
    <li><a href="../GetoptLong/NeedlessArgument.html">GetoptLong::NeedlessArgument</a>
  
    <li><a href="../Logger.html">Logger</a>
  
    <li><a href="../Logger/Application.html">Logger::Application</a>
  
    <li><a href="../Logger/Formatter.html">Logger::Formatter</a>
  
    <li><a href="../Logger/LogDevice.html">Logger::LogDevice</a>
  
    <li><a href="../Logger/LogDevice/LogDeviceMutex.html">Logger::LogDevice::LogDeviceMutex</a>
  
    <li><a href="../Logger/Severity.html">Logger::Severity</a>
  
    <li><a href="../Object.html">Object</a>
  
    <li><a href="../Buildr/Scala.html">Object::Scala</a>
  
    <li><a href="../Sync.html">Object::Synchronizer</a>
  
    <li><a href="../Sync_m.html">Object::Synchronizer_m</a>
  
    <li><a href="../ThreadsWait.html">Object::ThWait</a>
  
    <li><a href="../Timeout/Error.html">Object::TimeoutError</a>
  
    <li><a href="../PrettyPrint.html">PrettyPrint</a>
  
    <li><a href="../PrettyPrint/Breakable.html">PrettyPrint::Breakable</a>
  
    <li><a href="../PrettyPrint/Group.html">PrettyPrint::Group</a>
  
    <li><a href="../PrettyPrint/GroupQueue.html">PrettyPrint::GroupQueue</a>
  
    <li><a href="../PrettyPrint/SingleLine.html">PrettyPrint::SingleLine</a>
  
    <li><a href="../PrettyPrint/Text.html">PrettyPrint::Text</a>
  
    <li><a href="../URI.html">URI</a>
  
    <li><a href="../URI/FILE.html">URI::FILE</a>
  
    <li><a href="../URI/FTP.html">URI::FTP</a>
  
    <li><a href="../URI/Generic.html">URI::Generic</a>
  
    <li><a href="../URI/HTTP.html">URI::HTTP</a>
  
    <li><a href="../URI/NotFoundError.html">URI::NotFoundError</a>
  
    <li><a href="../OpenURI.html">OpenURI</a>
  
    <li><a href="../OpenURI/HTTPError.html">OpenURI::HTTPError</a>
  
    <li><a href="../OpenURI/HTTPRedirect.html">OpenURI::HTTPRedirect</a>
  
    <li><a href="../OpenURI/Meta.html">OpenURI::Meta</a>
  
    <li><a href="../OpenURI/OpenRead.html">OpenURI::OpenRead</a>
  
    <li><a href="../Sync_m.html">Sync_m</a>
  
    <li><a href="../Sync_m.html">Sync_m</a>
  
    <li><a href="../Sync_m/Err.html">Sync_m::Err</a>
  
    <li><a href="../Sync_m/Err/LockModeFailer.html">Sync_m::Err::LockModeFailer</a>
  
    <li><a href="../Sync_m/Err/UnknownLocker.html">Sync_m::Err::UnknownLocker</a>
  
    <li><a href="../CSV.html">CSV</a>
  
    <li><a href="../CSV/MalformedCSVError.html">CSV::MalformedCSVError</a>
  
    <li><a href="../CSV/Row.html">CSV::Row</a>
  
    <li><a href="../CSV/Table.html">CSV::Table</a>
  
    <li><a href="../Java.html">Java</a>
  
    <li><a href="../Java/Commands.html">Java::Commands</a>
  
    <li><a href="../Java/JavaWrapper.html">Java::JavaWrapper</a>
  
    <li><a href="../Java/Options.html">Java::Options</a>
  
    <li><a href="../PP.html">PP</a>
  
    <li><a href="../PP/ObjectMixin.html">PP::ObjectMixin</a>
  
    <li><a href="../PP/PPMethods.html">PP::PPMethods</a>
  
    <li><a href="../PP/SingleLine.html">PP::SingleLine</a>
  
    <li><a href="../Digest.html">Digest</a>
  
    <li><a href="../Digest/Class.html">Digest::Class</a>
  
    <li><a href="../Digest/Instance.html">Digest::Instance</a>
  
    <li><a href="../ERB.html">ERB</a>
  
    <li><a href="../ERB/DefMethod.html">ERB::DefMethod</a>
  
    <li><a href="../ERB/Util.html">ERB::Util</a>
  
    <li><a href="../Gem.html">Gem</a>
  
    <li><a href="../Gem/LoadError.html">Gem::LoadError</a>
  
    <li><a href="../Gem/Version.html">Gem::Version</a>
  
    <li><a href="../IRB.html">IRB</a>
  
    <li><a href="../IRB/Abort.html">IRB::Abort</a>
  
    <li><a href="../IRB/Irb.html">IRB::Irb</a>
  
    <li><a href="../MonitorMixin.html">MonitorMixin</a>
  
    <li><a href="../MonitorMixin/ConditionVariable.html">MonitorMixin::ConditionVariable</a>
  
    <li><a href="../MonitorMixin/ConditionVariable/Timeout.html">MonitorMixin::ConditionVariable::Timeout</a>
  
    <li><a href="../Psych.html">Psych</a>
  
    <li><a href="../Psych/BadAlias.html">Psych::BadAlias</a>
  
    <li><a href="../Psych/Exception.html">Psych::Exception</a>
  
    <li><a href="../Scanf.html">Scanf</a>
  
    <li><a href="../Timeout.html">Timeout</a>
  
    <li><a href="../Timeout/Error.html">Timeout::Error</a>
  
    <li><a href="../Timeout/Error.html">Timeout::Error</a>
  
    <li><a href="../TkComm.html">TkComm</a>
  
    <li><a href="../TkComm/Tk_CMDTBL.html">TkComm::Tk_CMDTBL</a>
  
    <li><a href="../TkComm/Tk_WINDOWS.html">TkComm::Tk_WINDOWS</a>
  
    <li><a href="../TkCore.html">TkCore</a>
  
    <li><a href="../MultiTkIp.html">TkCore::INTERP</a>
  
    <li><a href="../TkCore/Tk_OBJECT_TABLE.html">TkCore::Tk_OBJECT_TABLE</a>
  
    <li><a href="../Zip.html">Zip</a>
  
    <li><a href="../Zip/ZipEntry.html">Zip::ZipEntry</a>
  
    <li><a href="../Zip/ZipEntrySet.html">Zip::ZipEntrySet</a>
  
    <li><a href="../Benchmark.html">Benchmark</a>
  
    <li><a href="../Benchmark/Tms.html">Benchmark::Tms</a>
  
    <li><a href="../DEBUGGER__.html">DEBUGGER__</a>
  
    <li><a href="../DEBUGGER__/Context.html">DEBUGGER__::Context</a>
  
    <li><a href="../Exception2MessageMapper.html">Exception2MessageMapper</a>
  
    <li><a href="../Exception2MessageMapper.html">Exception2MessageMapper::E2MM</a>
  
    <li><a href="../File.html">File</a>
  
    <li><a href="../File/Stat.html">File::Stat</a>
  
    <li><a href="../MultiTkIp.html">MultiTkIp</a>
  
    <li><a href="../MultiTkIp/Command_Queue.html">MultiTkIp::Command_Queue</a>
  
    <li><a href="../PStore.html">PStore</a>
  
    <li><a href="../PStore/Error.html">PStore::Error</a>
  
    <li><a href="../RDoc.html">RDoc</a>
  
    <li><a href="../RDoc/Error.html">RDoc::Error</a>
  
    <li><a href="../Rake.html">Rake</a>
  
    <li><a href="../Rake/FileTask.html">Rake::FileTask</a>
  
    <li><a href="../Socket.html">Socket</a>
  
    <li><a href="../Socket/UDPSource.html">Socket::UDPSource</a>
  
    <li><a href="../Sync.html">Sync</a>
  
    <li><a href="../Sync.html">Sync</a>
  
    <li><a href="../TSort.html">TSort</a>
  
    <li><a href="../TSort/Cyclic.html">TSort::Cyclic</a>
  
    <li><a href="../Tempfile.html">Tempfile</a>
  
    <li><a href="../ThreadsWait.html">ThreadsWait</a>
  
    <li><a href="../ThreadsWait.html">ThreadsWait</a>
  
    <li><a href="../Vector.html">Vector</a>
  
    <li><a href="../Vector/ZeroVectorError.html">Vector::ZeroVectorError</a>
  
    <li><a href="../WeakRef.html">WeakRef</a>
  
    <li><a href="../WeakRef/RefError.html">WeakRef::RefError</a>
  
    <li><a href="../Abbrev.html">Abbrev</a>
  
    <li><a href="../Addrinfo.html">Addrinfo</a>
  
    <li><a href="../Base64.html">Base64</a>
  
    <li><a href="../BasicSocket.html">BasicSocket</a>
  
    <li><a href="../CGI.html">CGI</a>
  
    <li><a href="../CMath.html">CMath</a>
  
    <li><a href="../ConditionVariable.html">ConditionVariable</a>
  
    <li><a href="../DL.html">DL</a>
  
    <li><a href="../Date.html">Date</a>
  
    <li><a href="../Delegator.html">Delegator</a>
  
    <li><a href="../Dir.html">Dir</a>
  
    <li><a href="../ENV.html">ENV</a>
  
    <li><a href="../Enumerable.html">Enumerable</a>
  
    <li><a href="../Fiddle.html">Fiddle</a>
  
    <li><a href="../Find.html">Find</a>
  
    <li><a href="../Float.html">Float</a>
  
    <li><a href="../Forwardable.html">Forwardable</a>
  
    <li><a href="../GServer.html">GServer</a>
  
    <li><a href="../Hash.html">Hash</a>
  
    <li><a href="../IO.html">IO</a>
  
    <li><a href="../IPAddr.html">IPAddr</a>
  
    <li><a href="../IPSocket.html">IPSocket</a>
  
    <li><a href="../Integer.html">Integer</a>
  
    <li><a href="../JSON.html">JSON</a>
  
    <li><a href="../Kconv.html">Kconv</a>
  
    <li><a href="../Kernel.html">Kernel</a>
  
    <li><a href="../MatchData.html">MatchData</a>
  
    <li><a href="../Math.html">Math</a>
  
    <li><a href="../Matrix.html">Matrix</a>
  
    <li><a href="../Module.html">Module</a>
  
    <li><a href="../Monitor.html">Monitor</a>
  
    <li><a href="../MultiTkIp_OK.html">MultiTkIp_OK</a>
  
    <li><a href="../MultiTkIp_PseudoToplevel_Evaluable.html">MultiTkIp_PseudoToplevel_Evaluable</a>
  
    <li><a href="../Mutex_m.html">Mutex_m</a>
  
    <li><a href="../Numeric.html">Numeric</a>
  
    <li><a href="../Observable.html">Observable</a>
  
    <li><a href="../Open3.html">Open3</a>
  
    <li><a href="../OpenObject.html">OpenObject</a>
  
    <li><a href="../OpenStruct.html">OpenStruct</a>
  
    <li><a href="../Pathname.html">Pathname</a>
  
    <li><a href="../Profiler__.html">Profiler__</a>
  
    <li><a href="../ProgressBar.html">ProgressBar</a>
  
    <li><a href="../Queue.html">Queue</a>
  
    <li><a href="../RSS.html">RSS</a>
  
    <li><a href="../Range.html">Range</a>
  
    <li><a href="../Rational.html">Rational</a>
  
    <li><a href="../RemoteTkIp.html">RemoteTkIp</a>
  
    <li><a href="../SOCKSSocket.html">SOCKSSocket</a>
  
    <li><a href="../STRING_OR_FAILED_FORMAT.html">STRING_OR_FAILED_FORMAT</a>
  
    <li><a href="../SecureRandom.html">SecureRandom</a>
  
    <li><a href="../Set.html">Set</a>
  
    <li><a href="../Shell.html">Shell</a>
  
    <li><a href="../Shellwords.html">Shellwords</a>
  
    <li><a href="../SimpleDelegator.html">SimpleDelegator</a>
  
    <li><a href="../SingleForwardable.html">SingleForwardable</a>
  
    <li><a href="../Singleton.html">Singleton</a>
  
    <li><a href="../SizedQueue.html">SizedQueue</a>
  
    <li><a href="../SortedSet.html">SortedSet</a>
  
    <li><a href="../Struct.html">Struct</a>
  
    <li><a href="../Syck.html">Syck</a>
  
    <li><a href="../TCPSocket.html">TCPSocket</a>
  
    <li><a href="../TclTkIp.html">TclTkIp</a>
  
    <li><a href="../TclTkLib.html">TclTkLib</a>
  
    <li><a href="../ThreadError.html">ThreadError</a>
  
    <li><a href="../Time.html">Time</a>
  
    <li><a href="../Tracer.html">Tracer</a>
  
    <li><a href="../UDPSocket.html">UDPSocket</a>
  
    <li><a href="../WEBrick.html">WEBrick</a>
  
    <li><a href="../YAML.html">YAML</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Buildr::ArtifactNamespace</h1>

  <div id="description" class="description">
    
<p>An <a href="ArtifactNamespace.html">ArtifactNamespace</a> is a hierarchical
dictionary used to manage ArtifactRequirements. It can be used to have
different artifact versions per project or to allow users to select a
version for addons or modules.</p>

<p>Namespaces are opened using the <a
href="../Buildr.html#method-i-artifact_ns">Buildr#artifact_ns</a> method,
most important methods are:</p>
<dl class="rdoc-list label-list"><dt>need
<dd>
<p>Used to create a requirement on the namespace.</p>
</dd><dt>use
<dd>
<p><a href="../Set.html">Set</a> the artifact version to use for a
requirement.</p>
</dd><dt><a href="ArtifactNamespace.html#method-i-values_at">#values_at</a>
<dd>
<p>Reference requirements by name.</p>
</dd><dt>each
<dd>
<p>Return each <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>
in the namespace.</p>
</dd></dl>

<p>The <a
href="ArtifactNamespace.html#method-i-method_missing">#method_missing</a>
method for instances provides some syntactic sugar to these. See the
following examples, and the methods for <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>.</p>

<h1 id="label-Avoiding+constant+pollution+on+buildfile">Avoiding constant pollution on buildfile</h1>

<p>Each project has its own <a
href="ArtifactNamespace.html">ArtifactNamespace</a> inheriting the one from
the parent project up to the root namespace.</p>

<p>Consider the following snippet, as project grows, each subproject may need
different artifact combinations and/or versions. Assigning artifact
specifications to constants can make it painful to maintain their
references even if using structs/hashes.</p>

<pre class="ruby"><span class="ruby-operator">-</span><span class="ruby-operator">-</span> <span class="ruby-identifier">buildfile</span> <span class="ruby-operator">-</span><span class="ruby-operator">-</span>
<span class="ruby-constant">SPRING</span> = <span class="ruby-string">'org.springframework:spring:jar:2.5'</span>
<span class="ruby-constant">SPRING_OLD</span> = <span class="ruby-string">'org.springframework:spring:jar:1.0'</span>
<span class="ruby-constant">LOGGING</span> = [<span class="ruby-string">'comons-logging:commons-logging:jar:1.1.1'</span>,
           <span class="ruby-string">'log4j:log4j:jar:1.2.15'</span>]
<span class="ruby-constant">WL_LOGGING</span> = <span class="ruby-identifier">artifact</span>(<span class="ruby-string">'bea:wlcommons-logging:jar:8.1'</span>).<span class="ruby-identifier">from</span>(<span class="ruby-string">'path/to/wlcommons-logging.jar'</span>)
<span class="ruby-constant">LOGGING_WEBLOGIC</span> = [<span class="ruby-string">'comons-logging:commons-logging:jar:1.1.1'</span>,
                    <span class="ruby-constant">WL_LOGGING</span>]
<span class="ruby-constant">COMMONS</span> = <span class="ruby-identifier">struct</span> :<span class="ruby-identifier">collections</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'commons-collection:commons-collection:jar:3.1'</span>,
                 :<span class="ruby-identifier">net</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'commons-net:commons-net:jar:1.4.0'</span>

<span class="ruby-identifier">define</span> <span class="ruby-string">'example1'</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">define</span> <span class="ruby-string">'one'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">compile</span>.<span class="ruby-identifier">with</span> <span class="ruby-constant">SPRING</span>, <span class="ruby-constant">LOGGING_WEBLOGIC</span>, <span class="ruby-constant">COMMONS</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">define</span> <span class="ruby-string">'two'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">compile</span>.<span class="ruby-identifier">with</span> <span class="ruby-constant">SPRING_OLD</span>, <span class="ruby-constant">LOGGING</span>, <span class="ruby-constant">COMMONS</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">define</span> <span class="ruby-string">'three'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">compile</span>.<span class="ruby-identifier">with</span> <span class="ruby-string">&quot;commons-collections:commons-collections:jar:2.2&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>With <a href="ArtifactNamespace.html">ArtifactNamespace</a> you can do some
more advanced stuff, the following annotated snipped could still be reduced
if default artifact definitions were loaded from yaml file (see section
below and <a href="ArtifactNamespace.html#method-c-load">::load</a>).</p>

<pre class="ruby"><span class="ruby-operator">-</span><span class="ruby-operator">-</span> <span class="ruby-identifier">buildfile</span> <span class="ruby-operator">-</span><span class="ruby-operator">-</span>
<span class="ruby-identifier">artifact_ns</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ns</span><span class="ruby-operator">|</span> <span class="ruby-comment"># the current namespace (root if called outside a project)</span>
  <span class="ruby-comment"># default artifacts</span>
  <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">spring</span> = <span class="ruby-string">'org.springframework:spring:jar:2.5'</span>
  <span class="ruby-comment"># default logger is log4j</span>
  <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-string">'log4j:log4j:jar:1.2.15'</span>

  <span class="ruby-comment"># create a sub namespace by calling the #ns method,</span>
  <span class="ruby-comment"># artifacts defined on the sub-namespace can be referenced by</span>
  <span class="ruby-comment"># name :commons_net or by calling commons.net</span>
  <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">ns</span> :<span class="ruby-identifier">commons</span>, :<span class="ruby-identifier">net</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'commons-net:commons-net:jar:1.4.0'</span>,
                  :<span class="ruby-identifier">logging</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'comons-logging:commons-logging:jar:1.1.1'</span>

  <span class="ruby-comment"># When a child namespace asks for the :log artifact,</span>
  <span class="ruby-comment"># these artifacts will be searched starting from the :current namespace.</span>
  <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">virtual</span> :<span class="ruby-identifier">log</span>, :<span class="ruby-identifier">logger</span>, :<span class="ruby-identifier">commons_logging</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">artifact_ns</span>(<span class="ruby-string">'example2:one'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ns</span><span class="ruby-operator">|</span> <span class="ruby-comment"># namespace for the one subproject</span>
  <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-identifier">artifact</span>(<span class="ruby-string">'bea:wlcommons-logging:jar:8.1'</span>).<span class="ruby-identifier">from</span>(<span class="ruby-string">'path/to/wlcommons-logging.jar'</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">artifact_ns</span>(<span class="ruby-string">'example2:two'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ns</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">spring</span> = <span class="ruby-string">'1.0'</span> <span class="ruby-comment"># for project two use an older spring version (just for an example)</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">artifact_ns</span>(<span class="ruby-string">'example2:three'</span>).<span class="ruby-identifier">commons_collections</span> = <span class="ruby-value">2.2</span><span class="ruby-string">'
artifact_ns('</span><span class="ruby-identifier">example2</span><span class="ruby-operator">:</span><span class="ruby-identifier">four</span><span class="ruby-string">') do |ns|
  ns.beanutils = '</span><span class="ruby-identifier">commons</span><span class="ruby-operator">-</span><span class="ruby-identifier">beanutils</span>:<span class="ruby-identifier">commons</span><span class="ruby-operator">-</span><span class="ruby-identifier">beanutils</span>:<span class="ruby-identifier">jar</span><span class="ruby-operator">:</span><span class="ruby-value">1.5</span><span class="ruby-string">'        # just for this project
  ns.ns(:compilation).use :commons_logging, :beanutils, :spring       # compile time dependencies
  ns.ns(:testing).use :log, :beanutils, '</span><span class="ruby-identifier">cglib</span><span class="ruby-operator">:</span><span class="ruby-identifier">cglib</span><span class="ruby-operator">-</span><span class="ruby-identifier">nodep</span>:<span class="ruby-identifier">jar</span><span class="ruby-operator">:</span><span class="ruby-value">2.1</span><span class="ruby-value">.3</span><span class="ruby-string">' # run time dependencies
end

define '</span><span class="ruby-identifier">example2</span><span class="ruby-string">' do
  define '</span><span class="ruby-identifier">one</span><span class="ruby-string">' do
    compile.with :spring, :log, :commons # uses weblogic logging
  end
  define '</span><span class="ruby-identifier">two</span><span class="ruby-string">' do
    compile.with :spring, :log, :commons # will take old spring
  end
  define '</span><span class="ruby-identifier">three</span><span class="ruby-string">' do
    compile.with :commons_collections
    test.with artifact_ns('</span><span class="ruby-identifier">example2</span><span class="ruby-operator">:</span><span class="ruby-identifier">two</span><span class="ruby-string">').spring # use spring from project two
  end
  define '</span><span class="ruby-identifier">four</span><span class="ruby-string">' do
    compile.with artifact_ns.compilation
    test.with artifact_ns.testing
  end
  task(:down_them_all) do # again, just to fill this space with something ;)
    parent.projects.map(&amp;method(:artifact_ns)).map(&amp;:artifacts).map(&amp;:invoke)
  end
end
</span></pre>

<h1 id="label-Loading+from+a+yaml+file+%28e.+profiles.yaml%29">Loading from a yaml file (e. profiles.yaml)</h1>

<p>If your projects use lots of jars (after all we are using java ;) you may
prefer to have constant artifact definitions on an external file. Doing so
would allow an external tool (or future <a href="../Buildr.html">Buildr</a>
feature) to maintain an artifacts.yaml for you. An example usage is
documented on the <a href="ArtifactNamespace.html#method-c-load">::load</a>
method.</p>

<h1 id="label-For+addon%2Fplugin+writers+%26+Customizing+artifact+versions">For addon/plugin writers &amp; Customizing artifact versions</h1>

<p>Sometimes users would need to change the default artifact versions used by
some module, for example, the XMLBeans compiler needs this, because of
compatibility issues. Another example would be to select the groovy version
to use on all our projects so that <a href="../Buildr.html">Buildr</a>
modules requiring groovy jars can use user prefered versions.</p>

<p>To meet this goal, an <a
href="ArtifactNamespace.html">ArtifactNamespace</a> allows to specify <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>
objects. In fact the only difference with the examples you have already
seen is that requirements have an associated <a
href="VersionRequirement.html">VersionRequirement</a>, so that each time a
user tries to select a version, buildr checks if it satisfies the
requirements.</p>

<p>Requirements are declared using the <a
href="ArtifactNamespace.html#method-i-need">#need</a> method, but again,
syntactic sugar is provided by <a
href="ArtifactNamespace.html#method-i-method_missing">#method_missing</a>.</p>

<p>The following example is taken from the XMLBeans compiler module. And
illustrates how addon authors should specify their requirements, provide
default versions, and document the namespace for users to customize.</p>

<pre class="ruby"><span class="ruby-keyword">module</span> <span class="ruby-constant">Buildr</span><span class="ruby-operator">::</span><span class="ruby-constant">XMLBeans</span>

   <span class="ruby-comment"># You need to document this constant, giving users some hints</span>
   <span class="ruby-comment"># about when are (maybe some of) these artifacts used. I mean,</span>
   <span class="ruby-comment"># some modules, add jars to the Buildr classpath when its file</span>
   <span class="ruby-comment"># is required, you would need to tell your users, so that they</span>
   <span class="ruby-comment"># can open the namespace and specify their defaults. Of course</span>
   <span class="ruby-comment"># when the requirements are defined, buildr checks if any compatible</span>
   <span class="ruby-comment"># version has been already defined, if so, uses it.</span>
   <span class="ruby-comment">#</span>
   <span class="ruby-comment"># Some things here have been changed to illustrate their meaning.</span>
   <span class="ruby-constant">REQUIRES</span> = <span class="ruby-constant">ArtifactNamespace</span>.<span class="ruby-identifier">for</span>(<span class="ruby-keyword">self</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ns</span><span class="ruby-operator">|</span>

     <span class="ruby-comment"># This jar requires a &gt;2.0 version, default being 2.3.0</span>
     <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">xmlbeans!</span> <span class="ruby-string">'org.apache.xmlbeans:xmlbeans:jar:2.3.0'</span>, <span class="ruby-string">'&gt;2'</span>

     <span class="ruby-comment"># Users can customize with Buildr::XMLBeans::REQUIRES.stax_api = '1.2'</span>
     <span class="ruby-comment"># This is a non-flexible requirement, only satisfied by version 1.0.1</span>
     <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">stax_api!</span> <span class="ruby-string">'stax:stax-api:jar:1.0.1'</span>

     <span class="ruby-comment"># This one is not part of XMLBeans, but is just another example</span>
     <span class="ruby-comment"># illustrating an `artifact requirement spec`.</span>

     <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">need</span> <span class="ruby-string">&quot; some_name -&gt;  ar:ti:fact:3.2.5 -&gt;  ( &gt;2 &amp; &lt;4)&quot;</span>

     <span class="ruby-comment"># As you can see it's just an artifact spec, prefixed with</span>
     <span class="ruby-comment"># ' some_name -&gt; ', this means users can use that name to</span>
     <span class="ruby-comment"># reference the requirement, also this string has a VersionRequirement</span>
     <span class="ruby-comment"># just after another -&gt;.</span>
   <span class="ruby-keyword">end</span>

   <span class="ruby-comment"># The REQUIRES constant is an ArtifactNamespace instance,</span>
   <span class="ruby-comment"># that means we can use it directly. Note that calling</span>
   <span class="ruby-comment"># Buildr.artifact_ns would lead to the currently executing context,</span>
   <span class="ruby-comment"># not the one for this module.</span>
   <span class="ruby-keyword">def</span> <span class="ruby-identifier">use</span>
     <span class="ruby-comment"># test if user specified his own version, if so, we could perform some</span>
     <span class="ruby-comment"># functionallity based on this.</span>
     <span class="ruby-constant">REQUIRES</span>.<span class="ruby-identifier">some_name</span>.<span class="ruby-identifier">selected?</span> <span class="ruby-comment"># =&gt; false</span>

     <span class="ruby-constant">REQUIRES</span>.<span class="ruby-identifier">some_name</span>.<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-string">'1.5'</span>) <span class="ruby-comment"># =&gt; false</span>
     <span class="ruby-identifier">puts</span> <span class="ruby-constant">REQUIRES</span>.<span class="ruby-identifier">some_name</span>.<span class="ruby-identifier">requirement</span>     <span class="ruby-comment"># =&gt; ( &gt;2 &amp; &lt;4 )</span>

     <span class="ruby-constant">REQUIRES</span>.<span class="ruby-identifier">artifacts</span> <span class="ruby-comment"># get the Artifact tasks</span>
   <span class="ruby-keyword">end</span>

<span class="ruby-keyword">end</span>
</pre>

<p>A more advanced example using <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>
listeners is included in the artifact_namespace_spec.rb description for ‘<a
href="Extension.html">Extension</a> using ArtifactNamespace’ That’s it for
addon writers, now, users can select their prefered version with something
like:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'buildr/xmlbeans'</span>
<span class="ruby-constant">Buildr</span><span class="ruby-operator">::</span><span class="ruby-constant">XMLBeans</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRES</span>.<span class="ruby-identifier">xmlbeans</span> = <span class="ruby-string">'2.2.0'</span>
</pre>

<p>More advanced stuff, if users really need to select an xmlbeans version per
project, they can do so letting :current (that is, the currently running
namespace) be parent of the REQUIRES namespace:</p>

<pre>Buildr::XMLBeans::REQUIRES.parent = :current</pre>

<p>Now, provided that the compiler does not caches its artifacts, it will
select the correct version. (See the first section for how to select per
project artifacts).</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-name" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">name</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-5B-5D" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">[]</span><span
            class="method-args">(name = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="ArtifactNamespace.html#method-c-instance">instance</a>
        </div>
        
      </div><!-- 5B-5D-method -->

    
      <div id="method-c-clear" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Forget all namespaces, create a new ROOT</p>
          

          
          <div class="method-source-code" id="clear-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 217</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear</span>
  <span class="ruby-ivar">@instances</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">remove_const</span>(<span class="ruby-value">:ROOT</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">const_set</span>(<span class="ruby-value">:ROOT</span>, <span class="ruby-identifier">new</span>(<span class="ruby-string">'root'</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- clear-source -->
          
        </div>

        

        
      </div><!-- clear-method -->

    
      <div id="method-c-for" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">for</span><span
            class="method-args">(name = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="ArtifactNamespace.html#method-c-instance">instance</a>
        </div>
        
      </div><!-- for-method -->

    
      <div id="method-c-instance" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            instance { |current_ns| ... } &rarr; current_ns
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            instance(name) { |ns| ... } &rarr; ns
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            instance(:current) { |current_ns| ... } &rarr; current_ns
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            instance(:root) { |root_ns| ... } &rarr; root_ns
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Obtain an instance for the given name</p>
          

          
          <div class="method-source-code" id="instance-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 283</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">instance</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:root</span>, <span class="ruby-string">'root'</span> <span class="ruby-keyword">then</span> <span class="ruby-keyword">return</span> <span class="ruby-constant">ROOT</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">ArtifactNamespace</span> <span class="ruby-keyword">then</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">':'</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Module</span>, <span class="ruby-constant">Project</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">name</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:current</span>, <span class="ruby-string">'current'</span>, <span class="ruby-keyword">nil</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">task</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:rake_chain</span>]
    <span class="ruby-identifier">task</span> = <span class="ruby-identifier">task</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@value</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">task</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">task</span>
           <span class="ruby-keyword">when</span> <span class="ruby-constant">Project</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">task</span>.<span class="ruby-identifier">name</span>
           <span class="ruby-keyword">when</span> <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">task</span>.<span class="ruby-identifier">scope</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">':'</span>)
           <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">Buildr</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">current_scope</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">':'</span>)
           <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">instance</span> = <span class="ruby-constant">ROOT</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-ivar">@instances</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">k</span>) }
    <span class="ruby-identifier">instance</span> = <span class="ruby-ivar">@instances</span>[<span class="ruby-identifier">name</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">instance</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">instance</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- instance-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="ArtifactNamespace.html#method-c-5B-5D">[]</a>, <a href="ArtifactNamespace.html#method-c-for">for</a>
        </div>
        

        
      </div><!-- instance-method -->

    
      <div id="method-c-load" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load</span><span
            class="method-args">(namespaces = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Populate namespaces from a hash of hashes. The following example uses the
profiles yaml to achieve this.</p>

<pre>-- profiles.yaml --
development:
  artifacts:
    root:        # root namespace
      spring:     org.springframework:spring:jar:2.5
      groovy:     org.codehaus.groovy:groovy:jar:1.5.4
      logging:    # define a named group
        - log4j:log4j:jar:1.2.15
        - commons-logging:commons-logging:jar:1.1.1

    # open Buildr::XMLBeans namespace
    Buildr::XMLBeans:
      xmlbeans: 2.2

    # for subproject one:oldie
    one:oldie:
      spring:  org.springframework:spring:jar:1.0

-- buildfile --
ArtifactNamespace.load(Buildr.settings.profile['artifacts'])</pre>
          

          
          <div class="method-source-code" id="load-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 272</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load</span>(<span class="ruby-identifier">namespaces</span> = {})
  <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">each_pair</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">uses</span><span class="ruby-operator">|</span> <span class="ruby-identifier">instance</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">use</span>(<span class="ruby-identifier">uses</span>) }
<span class="ruby-keyword">end</span></pre>
          </div><!-- load-source -->
          
        </div>

        

        
      </div><!-- load-method -->

    
      <div id="method-c-root" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            root { |ns| ... } &rarr; ns
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Obtain the root namespace, returns the ROOT constant</p>
          

          
          <div class="method-source-code" id="root-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 317</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">root</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-constant">ROOT</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-constant">ROOT</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- root-source -->
          
        </div>

        

        
      </div><!-- root-method -->

    
      <div id="method-c-to_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_hash</span><span
            class="method-args">(spec)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Differs from <a
href="Artifact.html#method-c-to_hash">Buildr::Artifact.to_hash</a> in that
1) it does not choke when version isn’t present and 2) it assumes that if
an artifact spec ends with a colon, e.g. “org.example:library:jdk5:” it
indicates the last segment (“jdk5”) is a classifier.</p>
          

          
          <div class="method-source-code" id="to_hash-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 226</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_hash</span>(<span class="ruby-identifier">spec</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_spec</span>)
    <span class="ruby-identifier">to_hash</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_spec</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">spec</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Symbol</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span>
    <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">-1</span>,<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-string">':'</span>
      <span class="ruby-identifier">group</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">classifier</span>, *<span class="ruby-identifier">rest</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">':'</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">part</span> }
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">group</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">version</span>, *<span class="ruby-identifier">rest</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">':'</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">part</span> }
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">rest</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-comment"># Optional classifier comes before version.</span>
        <span class="ruby-identifier">classifier</span>, <span class="ruby-identifier">version</span> = <span class="ruby-identifier">version</span>, <span class="ruby-identifier">rest</span>.<span class="ruby-identifier">shift</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-node">&quot;Expecting &lt;group:id:type:version&gt; or &lt;group:id:type:classifier:version&gt;, found &lt;#{spec}&gt;&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">rest</span>.<span class="ruby-identifier">empty?</span>
    { <span class="ruby-value">:group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">group</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id</span>, <span class="ruby-value">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">type</span>, <span class="ruby-value">:version</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">version</span>, <span class="ruby-value">:classifier</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">classifier</span> }.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-node">&quot;Unexpected artifact spec: #{spec.inspect}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_hash-source -->
          
        </div>

        

        
      </div><!-- to_hash-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-5B-5D" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            artifact_ns[:name] &rarr; ArtifactRequirement
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            artifact_ns[:many, :names] &rarr; [ArtifactRequirement]
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="5B-5D-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 778</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">ary</span> = <span class="ruby-identifier">values_at</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">names</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ary</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">ary</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- 5B-5D-source -->
          
        </div>

        

        
      </div><!-- 5B-5D-method -->

    
      <div id="method-i-5B-5D-3D" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            artifact_ns[:name] = 'some:cool:jar:1.0.2'
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            artifact_ns[:name] = '1.0.2'
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Just like the use method</p>
          

          
          <div class="method-source-code" id="5B-5D-3D-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 788</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]=</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">values</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-identifier">values</span> = [<span class="ruby-identifier">values</span>] <span class="ruby-keyword">unless</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">values</span>
  <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">use</span> <span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">values</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">last</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- 5B-5D-3D-source -->
          
        </div>

        

        
      </div><!-- 5B-5D-3D-method -->

    
      <div id="method-i-accessor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">accessor</span><span
            class="method-args">(*names)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return an anonymous module</p>

<pre># first create a requirement
artifact_ns.cool_aid! 'cool:aid:jar:&gt;=1.0'

# extend an object as a cool_aid delegator
jars = Object.new.extend(artifact_ns.accessor(:cool_aid))
jars.cool_aid = '2.0'

artifact_ns.cool_aid.version # -&gt; '2.0'</pre>
          

          
          <div class="method-source-code" id="accessor-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 951</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">accessor</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">ns</span> = <span class="ruby-keyword">self</span>
  <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">define_method</span>(<span class="ruby-node">&quot;#{name}&quot;</span>) { <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{name}&quot;</span>) }
      <span class="ruby-identifier">define_method</span>(<span class="ruby-node">&quot;#{name}?&quot;</span>) { <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{name}?&quot;</span>) }
      <span class="ruby-identifier">define_method</span>(<span class="ruby-node">&quot;#{name}=&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">vers</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{name}=&quot;</span>, <span class="ruby-identifier">vers</span>) }
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- accessor-source -->
          
        </div>

        

        
      </div><!-- accessor-method -->

    
      <div id="method-i-alias" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">alias</span><span
            class="method-args">(new_name, old_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Create an alias for a named requirement.</p>
          

          
          <div class="method-source-code" id="alias-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 885</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">alias</span>(<span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">old_name</span>)
  <span class="ruby-identifier">registry</span>.<span class="ruby-identifier">alias</span>(<span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">old_name</span>) <span class="ruby-keyword">or</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Undefined artifact name: #{old_name}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- alias-source -->
          
        </div>

        

        
      </div><!-- alias-method -->

    
      <div id="method-i-artifacts" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">artifacts</span><span
            class="method-args">(*names)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>return <a href="Artifact.html">Artifact</a> objects for each requirement</p>
          

          
          <div class="method-source-code" id="artifacts-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 802</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">artifacts</span>(*<span class="ruby-identifier">names</span>)
  (<span class="ruby-identifier">names</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">values</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">values_at</span>(*<span class="ruby-identifier">names</span>)).<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:artifact</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- artifacts-source -->
          
        </div>

        

        
      </div><!-- artifacts-method -->

    
      <div id="method-i-clear" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="clear-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 859</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear</span>
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">k</span>) }
<span class="ruby-keyword">end</span></pre>
          </div><!-- clear-source -->
          
        </div>

        

        
      </div><!-- clear-method -->

    
      <div id="method-i-delete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete</span><span
            class="method-args">(name, include_parents = false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="delete-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 854</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">include_parents</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">registry</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">include_parents</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- delete-source -->
          
        </div>

        

        
      </div><!-- delete-method -->

    
      <div id="method-i-each" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>yield each <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a></p>
          

          
          <div class="method-source-code" id="each-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 797</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span>(&amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- each-source -->
          
        </div>

        

        
      </div><!-- each-method -->

    
      <div id="method-i-fetch" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">fetch</span><span
            class="method-args">(name, default = nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Like Hash#fetch</p>
          

          
          <div class="method-source-code" id="fetch-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 769</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">block</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">proc</span> { <span class="ruby-identifier">raise</span> <span class="ruby-constant">IndexError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;No artifact found by name #{name.inspect} in namespace #{self}&quot;</span>) }
  <span class="ruby-identifier">real_name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-regexp">%r^[\w\-\.]+$/</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">unversioned_spec</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">get</span>(<span class="ruby-identifier">real_name</span>.<span class="ruby-identifier">to_sym</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">name</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- fetch-source -->
          
        </div>

        

        
      </div><!-- fetch-method -->

    
      <div id="method-i-group" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            group :who, :me, :you
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            group :them, :me, :you, :namespace &rarr; ns
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Create a virtual group on this namespace. When the namespace is asked for
the <code>who</code> artifact, it’s value is an array made from the
remaining names. These names are searched by default from the current
namespace. Second form specified the starting namespace to search from.</p>
          

          
          <div class="method-source-code" id="group-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 872</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">group</span>(<span class="ruby-identifier">group_name</span>, *<span class="ruby-identifier">members</span>)
  <span class="ruby-identifier">namespace</span> = (<span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">members</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">members</span>.<span class="ruby-identifier">pop</span>[<span class="ruby-value">:namespace</span>]) <span class="ruby-operator">||</span> <span class="ruby-value">:current</span>
  <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">group_name</span>] = <span class="ruby-identifier">lambda</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">artifacts</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>[<span class="ruby-identifier">namespace</span>].<span class="ruby-identifier">values_at</span>(*<span class="ruby-identifier">members</span>)
    <span class="ruby-identifier">artifacts</span> = <span class="ruby-identifier">artifacts</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">members</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">artifacts</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- group-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="ArtifactNamespace.html#method-i-virtual">virtual</a>
        </div>
        

        
      </div><!-- group-method -->

    
      <div id="method-i-key-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">key?</span><span
            class="method-args">(name, include_parents = false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="key-3F-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 845</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">key?</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">include_parents</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">unversioned_spec</span>(<span class="ruby-identifier">name</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-regexp">%r^[\w\-\.]+$/</span>]
  <span class="ruby-identifier">registry</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">include_parents</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- key-3F-source -->
          
        </div>

        

        
      </div><!-- key-3F-method -->

    
      <div id="method-i-keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keys</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="keys-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 850</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">keys</span>
  <span class="ruby-identifier">values</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:name</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- keys-source -->
          
        </div>

        

        
      </div><!-- keys-method -->

    
      <div id="method-i-method_missing" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            cool_aid!('cool:aid:jar:2.3.4', '~&gt;2.3') &rarr; artifact_requirement
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            cool_aid = '2.3.5'
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            cool_aid  &rarr; artifact_requirement
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            cool_aid? &rarr; true | false
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>First form creates an <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>
on the namespace. It is equivalent to providing a requirement_spec to the
<a href="ArtifactNamespace.html#method-i-need">need</a> method:</p>

<pre>artifact_ns.need &quot;cool_aid -&gt; cool:aid:jar:2.3.4 -&gt; ~&gt;2.3&quot;</pre>

<p>the second argument is optional.</p>

<p>Second form can be used to select an artifact version and is equivalent to:</p>

<pre class="ruby"><span class="ruby-identifier">artifact_ns</span>.<span class="ruby-identifier">use</span> :<span class="ruby-identifier">cool_aid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'1.0'</span>
</pre>

<p>Third form obtains the named <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>,
can be used to test if a named requirement has been defined. It is
equivalent to:</p>

<pre>artifact_ns.fetch(:cool_aid) { nil }</pre>

<p>Last form tests if the <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>
has been defined and a version has been selected for use. It is equivalent
to:</p>

<pre class="ruby"><span class="ruby-identifier">artifact_ns</span>.<span class="ruby-identifier">has_cool_aid?</span>
<span class="ruby-identifier">artifact_ns</span>.<span class="ruby-identifier">values_at</span>(:<span class="ruby-identifier">cool_aid</span>).<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">selected?</span> }
</pre>
          

          
          <div class="method-source-code" id="method_missing-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 921</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">name</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r!$/</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-node">$`</span>.<span class="ruby-identifier">intern</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;wrong number of arguments for #{name}!(spec, version_requirement?)&quot;</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">need</span> <span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">get</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">requirement</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> }
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r=$/</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">use</span> <span class="ruby-node">$`</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r\?$/</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-node">$`</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r^(has|have)_/</span>, <span class="ruby-string">''</span>).<span class="ruby-identifier">intern</span>
    [<span class="ruby-identifier">get</span>(<span class="ruby-identifier">name</span>)].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">selected?</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;wrong number of arguments #{args.size} for 0 or block given&quot;</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">get</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- method_missing-source -->
          
        </div>

        

        
      </div><!-- method_missing-method -->

    
      <div id="method-i-need" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            need 'name -&gt; org:foo:bar:jar:~&gt;1.2.3 &rarr; 1.2.5'
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            need :name &rarr; 'org.foo:bar:jar:1.0'
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Create a new <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>
on this namespace. <a
href="ArtifactNamespace.html#method-i-method_missing">#method_missing</a>
provides syntactic sugar for this.</p>
          

          
          <div class="method-source-code" id="need-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 631</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">need</span>(*<span class="ruby-identifier">specs</span>)
  <span class="ruby-identifier">named</span> = <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">seen</span>, <span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">keys</span> &amp; <span class="ruby-constant">ActsAsArtifact</span><span class="ruby-operator">::</span><span class="ruby-constant">ARTIFACT_ATTRIBUTES</span>).<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-comment"># a group</span>
          <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>) }
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">artifact</span> = <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spec</span>)
          <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>
          <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">artifact</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">artifact</span> = <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spec</span>)
      <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">artifact</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">seen</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">named</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">artifact</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">artifact</span> <span class="ruby-comment"># a group</span>
      <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">unvers</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">unversioned_spec</span>
        <span class="ruby-identifier">previous</span> = <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">unvers</span>]
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">previous</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">selected?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-identifier">previous</span>)
          <span class="ruby-identifier">a</span>.<span class="ruby-identifier">version</span> = <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">version</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">unvers</span>] = <span class="ruby-identifier">a</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">group</span>(<span class="ruby-identifier">name</span>, *(<span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">unversioned_spec</span> } <span class="ruby-operator">+</span> [{<span class="ruby-value">:namespace</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>}]))
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">unvers</span> = <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">unversioned_spec</span>
      <span class="ruby-identifier">previous</span> = <span class="ruby-identifier">registry</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">unvers</span>, <span class="ruby-keyword">true</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">previous</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">selected?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-identifier">previous</span>)
        <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">version</span> = <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">version</span>
        <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">selected!</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">unvers</span>] = <span class="ruby-identifier">artifact</span>
      <span class="ruby-identifier">registry</span>.<span class="ruby-identifier">alias</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">unvers</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-regexp">%r^\s*$/</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- need-source -->
          
        </div>

        

        
      </div><!-- need-method -->

    
      <div id="method-i-ns" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ns</span><span
            class="method-args">(name, *uses) { |sub| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Create a named sub-namespace, sub-namespaces are themselves <a
href="ArtifactNamespace.html">ArtifactNamespace</a> instances but cannot be
referenced by the <a
href="../Buildr.html#method-i-artifact_ns">Buildr#artifact_ns</a>, <a
href="ArtifactNamespace.html#method-c-instance">::instance</a> methods.
Reference needs to be through this object using the given <code>name</code></p>

<pre class="ruby"><span class="ruby-identifier">artifact_ns</span>(<span class="ruby-string">'foo'</span>).<span class="ruby-identifier">ns</span>(:<span class="ruby-identifier">bar</span>).<span class="ruby-identifier">need</span> :<span class="ruby-identifier">thing</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'some:thing:jar:1.0'</span>
<span class="ruby-identifier">artifact_ns</span>(<span class="ruby-string">'foo'</span>).<span class="ruby-identifier">bar</span> <span class="ruby-comment"># =&gt; the sub-namespace 'foo.bar'</span>
<span class="ruby-identifier">artifact_ns</span>(<span class="ruby-string">'foo'</span>).<span class="ruby-identifier">bar</span>.<span class="ruby-identifier">thing</span> <span class="ruby-comment"># =&gt; the some thing artifact</span>
</pre>

<p>See the top level <a href="ArtifactNamespace.html">ArtifactNamespace</a>
documentation for examples</p>
          

          
          <div class="method-source-code" id="ns-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 604</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ns</span>(<span class="ruby-identifier">name</span>, *<span class="ruby-identifier">uses</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>
  <span class="ruby-identifier">sub</span> = <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">name</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sub</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;#{name} is not a sub namespace of #{self}&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">sub</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">ArtifactNamespace</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">sub</span> = <span class="ruby-constant">ArtifactNamespace</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;#{self.name}.#{name}&quot;</span>)
    <span class="ruby-identifier">sub</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword">self</span>
    <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">sub</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">sub</span>.<span class="ruby-identifier">use</span>(*<span class="ruby-identifier">uses</span>)
  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">sub</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">sub</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ns-source -->
          
        </div>

        

        
      </div><!-- ns-method -->

    
      <div id="method-i-ns-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ns?</span><span
            class="method-args">(name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p><a href="Test.html">Test</a> if a sub-namespace by the given name exists</p>
          

          
          <div class="method-source-code" id="ns-3F-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 620</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ns?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">sub</span> = <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>]
  <span class="ruby-constant">ArtifactNamespace</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">sub</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ns-3F-source -->
          
        </div>

        

        
      </div><!-- ns-3F-method -->

    
      <div id="method-i-parent" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parent</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>ROOT namespace has no parent</p>
          

          
          <div class="method-source-code" id="parent-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 567</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parent</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">root?</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@parent</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">ArtifactNamespace</span>)
    <span class="ruby-ivar">@parent</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@parent</span>
    <span class="ruby-constant">ArtifactNamespace</span>.<span class="ruby-identifier">instance</span>(<span class="ruby-ivar">@parent</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span>
    <span class="ruby-identifier">parent_name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r::?[^:]+$/</span>, <span class="ruby-string">''</span>)
    <span class="ruby-identifier">parent_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">root</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ArtifactNamespace</span>.<span class="ruby-identifier">instance</span>(<span class="ruby-identifier">parent_name</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">root</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- parent-source -->
          
        </div>

        

        
      </div><!-- parent-method -->

    
      <div id="method-i-parent-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parent=</span><span
            class="method-args">(other)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p><a href="../Set.html">Set</a> the parent for the current namespace, except
if it is ROOT</p>
          

          
          <div class="method-source-code" id="parent-3D-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 583</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parent=</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-string">'Cannot set parent of root namespace'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">root?</span>
  <span class="ruby-ivar">@parent</span> = <span class="ruby-identifier">other</span>
  <span class="ruby-ivar">@registry</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- parent-3D-source -->
          
        </div>

        

        
      </div><!-- parent-3D-method -->

    
      <div id="method-i-root" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">root</span><span
            class="method-args">() { |ROOT| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="root-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 561</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">root</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-constant">ROOT</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-constant">ROOT</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- root-source -->
          
        </div>

        

        
      </div><!-- root-method -->

    
      <div id="method-i-root-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">root?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Is this the ROOT namespace?</p>
          

          
          <div class="method-source-code" id="root-3F-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 590</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">root?</span>
  <span class="ruby-constant">ROOT</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- root-3F-source -->
          
        </div>

        

        
      </div><!-- root-3F-method -->

    
      <div id="method-i-use" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            use 'name &rarr; org:foo:bar:jar:1.2.3'
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            use :name &rarr; 'org:foo:bar:jar:1.2.3'
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            use :name &rarr; '2.5.6'
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>First and second form are equivalent, the third is used when an <a
href="ArtifactNamespace/ArtifactRequirement.html">ArtifactRequirement</a>
has been previously defined with :name, so it just selects the version.</p>

<p><a
href="ArtifactNamespace.html#method-i-method_missing">#method_missing</a>
provides syntactic sugar for this.</p>
          

          
          <div class="method-source-code" id="use-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 684</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">use</span>(*<span class="ruby-identifier">specs</span>)
  <span class="ruby-identifier">named</span> = <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">seen</span>, <span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">keys</span> &amp; <span class="ruby-constant">ActsAsArtifact</span><span class="ruby-operator">::</span><span class="ruby-constant">ARTIFACT_ATTRIBUTES</span>).<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-constant">ArtifactNamespace</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-comment"># create as subnamespace</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;Circular reference&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">spec</span>
          <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">spec</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-constant">Numeric</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-operator">||</span> (<span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">VersionRequirement</span>.<span class="ruby-identifier">version?</span>(<span class="ruby-identifier">spec</span>))
          <span class="ruby-identifier">artifact</span> = <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">allocate</span>
          <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>
          <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">version</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_s</span>
          <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">artifact</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-constant">Symbol</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span>
          <span class="ruby-keyword">self</span>.<span class="ruby-identifier">alias</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">spec</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span> <span class="ruby-comment"># a group</span>
          <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>) }
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">artifact</span> = <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spec</span>)
          <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>
          <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">artifact</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">if</span> <span class="ruby-constant">Symbol</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">spec</span>
        <span class="ruby-identifier">artifact</span> = <span class="ruby-identifier">get</span>(<span class="ruby-identifier">spec</span>).<span class="ruby-identifier">dclone</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">artifact</span> = <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spec</span>)
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">artifact</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">seen</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">named</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">artifact</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">is_group</span> = <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">artifact</span>
    <span class="ruby-identifier">artifact</span> = [<span class="ruby-identifier">artifact</span>].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">artifact</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">unvers</span> = <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">unversioned_spec</span>
      <span class="ruby-identifier">previous</span> = <span class="ruby-identifier">get</span>(<span class="ruby-identifier">unvers</span>, <span class="ruby-keyword">false</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">name</span>, <span class="ruby-keyword">false</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">previous</span> <span class="ruby-comment"># have previous on current namespace</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">requirement</span> <span class="ruby-comment"># we must satisfy the requirement</span>
          <span class="ruby-keyword">unless</span> <span class="ruby-identifier">unvers</span> <span class="ruby-comment"># we only have the version</span>
            <span class="ruby-identifier">satisfied</span> = <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">requirement</span>.<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">version</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">satisfied</span> = <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-identifier">artifact</span>)
          <span class="ruby-keyword">end</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Unsatisfied dependency #{previous} &quot;</span> <span class="ruby-operator">+</span>
            <span class="ruby-node">&quot;not satisfied by #{artifact}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">satisfied</span>
          <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">version</span> = <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">version</span> <span class="ruby-comment"># OK, set new version</span>
          <span class="ruby-identifier">artifact</span> = <span class="ruby-identifier">previous</span> <span class="ruby-comment"># use the same object for aliases</span>
        <span class="ruby-keyword">else</span> <span class="ruby-comment"># not a requirement, set the new values</span>
          <span class="ruby-keyword">unless</span> <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">name</span>
            <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">copy_attrs</span>(<span class="ruby-identifier">artifact</span>)
            <span class="ruby-identifier">artifact</span> = <span class="ruby-identifier">previous</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">unvers</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-comment"># we only have the version</span>
            (<span class="ruby-identifier">previous</span> = <span class="ruby-identifier">get</span>(<span class="ruby-identifier">unvers</span>, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">false</span>))
          <span class="ruby-identifier">version</span> = <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">version</span>
          <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">copy_attrs</span>(<span class="ruby-identifier">previous</span>)
          <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">version</span> = <span class="ruby-identifier">version</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">requirement</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">selected!</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">artifact</span> = <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">is_group</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_group</span>
      <span class="ruby-identifier">names</span> = <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">art</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">unv</span> = <span class="ruby-identifier">art</span>.<span class="ruby-identifier">unversioned_spec</span>
        <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">unv</span>] = <span class="ruby-identifier">art</span>
        <span class="ruby-identifier">unv</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">group</span>(<span class="ruby-identifier">name</span>, *(<span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> [{<span class="ruby-value">:namespace</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>}]))
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">id</span>
      <span class="ruby-identifier">unvers</span> = <span class="ruby-identifier">artifact</span>.<span class="ruby-identifier">unversioned_spec</span>
      <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">artifact</span>
      <span class="ruby-identifier">registry</span>.<span class="ruby-identifier">alias</span> <span class="ruby-identifier">unvers</span>, <span class="ruby-identifier">name</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">registry</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">artifact</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- use-source -->
          
        </div>

        

        
      </div><!-- use-method -->

    
      <div id="method-i-values" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">values</span><span
            class="method-args">(include_parents = false, include_groups = true)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return all requirements for this namespace</p>
          

          
          <div class="method-source-code" id="values-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 807</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">values</span>(<span class="ruby-identifier">include_parents</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">include_groups</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">seen</span>, <span class="ruby-identifier">dict</span> = {}, <span class="ruby-identifier">registry</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">dict</span>
    <span class="ruby-identifier">dict</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
      <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">values</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">ArtifactNamespace</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">include_groups</span>
        <span class="ruby-identifier">v</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">v</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">v</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">seen</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">v</span>.<span class="ruby-identifier">name</span>) }
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">v</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">v</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">seen</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">v</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">dict</span> = <span class="ruby-identifier">include_parents</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">dict</span>.<span class="ruby-identifier">parent</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">seen</span>.<span class="ruby-identifier">values</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- values-source -->
          
        </div>

        

        
      </div><!-- values-method -->

    
      <div id="method-i-values_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">values_at</span><span
            class="method-args">(*names)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return only the named requirements</p>
          

          
          <div class="method-source-code" id="values_at-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/artifact_namespace.rb, line 825</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">values_at</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">names</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">catch</span> <span class="ruby-value">:artifact</span> <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-regexp">%r^[\w\-\.]+$/</span>]
        <span class="ruby-identifier">unvers</span> = <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">unversioned_spec</span>(<span class="ruby-identifier">name</span>)
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">unvers</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
          <span class="ruby-identifier">req</span> = <span class="ruby-constant">ArtifactRequirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>)
          <span class="ruby-identifier">reg</span> = <span class="ruby-keyword">self</span>
          <span class="ruby-keyword">while</span> <span class="ruby-identifier">reg</span>
            <span class="ruby-identifier">candidate</span> = <span class="ruby-identifier">reg</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:get</span>, <span class="ruby-identifier">unvers</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">true</span>)
            <span class="ruby-identifier">throw</span> <span class="ruby-value">:artifact</span>, <span class="ruby-identifier">candidate</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-identifier">candidate</span>)
            <span class="ruby-identifier">reg</span> = <span class="ruby-identifier">reg</span>.<span class="ruby-identifier">parent</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">get</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- values_at-source -->
          
        </div>

        

        
      </div><!-- values_at-method -->

    
      <div id="method-i-virtual" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">virtual</span><span
            class="method-args">(group_name, *members)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="ArtifactNamespace.html#method-i-group">group</a>
        </div>
        
      </div><!-- virtual-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>


<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module Buildr::Package - buildr</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/buildr/packaging/package.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="Extension.html">Buildr::Extension</a>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-id">#id</a>
    
    <li><a href="#method-i-package">#package</a>
    
    <li><a href="#method-i-packages">#packages</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../CHANGELOG.html">CHANGELOG</a>
  
    <li class="file"><a href="../LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../NOTICE.html">NOTICE</a>
  
    <li class="file"><a href="../README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Buildr.html">Buildr</a>
  
    <li><a href="../Buildr/ActsAsArtifact.html">Buildr::ActsAsArtifact</a>
  
    <li><a href="../Buildr/Ant.html">Buildr::Ant</a>
  
    <li><a href="../Buildr/Apt.html">Buildr::Apt</a>
  
    <li><a href="../Buildr/ArchiveTask.html">Buildr::ArchiveTask</a>
  
    <li><a href="../Buildr/ArchiveTask/Merge.html">Buildr::ArchiveTask::Merge</a>
  
    <li><a href="../Buildr/Artifact.html">Buildr::Artifact</a>
  
    <li><a href="../Buildr/ArtifactNamespace.html">Buildr::ArtifactNamespace</a>
  
    <li><a href="../Buildr/ArtifactNamespace/ArtifactRequirement.html">Buildr::ArtifactNamespace::ArtifactRequirement</a>
  
    <li><a href="../Buildr/ArtifactSearch.html">Buildr::ArtifactSearch</a>
  
    <li><a href="../Buildr/Build.html">Buildr::Build</a>
  
    <li><a href="../Buildr/CC.html">Buildr::CC</a>
  
    <li><a href="../Buildr/CCTask.html">Buildr::CCTask</a>
  
    <li><a href="../Buildr/Checks.html">Buildr::Checks</a>
  
    <li><a href="../Buildr/Checks/Expectation.html">Buildr::Checks::Expectation</a>
  
    <li><a href="../Buildr/Clojure.html">Buildr::Clojure</a>
  
    <li><a href="../Buildr/Cobertura.html">Buildr::Cobertura</a>
  
    <li><a href="../Buildr/Cobertura/CoberturaCheck.html">Buildr::Cobertura::CoberturaCheck</a>
  
    <li><a href="../Buildr/Compile.html">Buildr::Compile</a>
  
    <li><a href="../Buildr/CompileTask.html">Buildr::CompileTask</a>
  
    <li><a href="../Buildr/Compiler.html">Buildr::Compiler</a>
  
    <li><a href="../Buildr/Compiler/Ecj.html">Buildr::Compiler::Ecj</a>
  
    <li><a href="../Buildr/Compiler/ExternalJavac.html">Buildr::Compiler::ExternalJavac</a>
  
    <li><a href="../Buildr/Compiler/Javac.html">Buildr::Compiler::Javac</a>
  
    <li><a href="../Buildr/ConcatTask.html">Buildr::ConcatTask</a>
  
    <li><a href="../Buildr/Doc.html">Buildr::Doc</a>
  
    <li><a href="../Buildr/Doc/Base.html">Buildr::Doc::Base</a>
  
    <li><a href="../Buildr/Doc/DocTask.html">Buildr::Doc::DocTask</a>
  
    <li><a href="../Buildr/Doc/Groovydoc.html">Buildr::Doc::Groovydoc</a>
  
    <li><a href="../Buildr/Doc/GroovydocDefaults.html">Buildr::Doc::GroovydocDefaults</a>
  
    <li><a href="../Buildr/Doc/Javadoc.html">Buildr::Doc::Javadoc</a>
  
    <li><a href="../Buildr/Doc/JavadocDefaults.html">Buildr::Doc::JavadocDefaults</a>
  
    <li><a href="../Buildr/Doc/Scaladoc.html">Buildr::Doc::Scaladoc</a>
  
    <li><a href="../Buildr/Doc/ScaladocDefaults.html">Buildr::Doc::ScaladocDefaults</a>
  
    <li><a href="../Buildr/Doc/VScaladoc.html">Buildr::Doc::VScaladoc</a>
  
    <li><a href="../Buildr/Eclipse.html">Buildr::Eclipse</a>
  
    <li><a href="../Buildr/Eclipse/Eclipse.html">Buildr::Eclipse::Eclipse</a>
  
    <li><a href="../Buildr/Eclipse/Java.html">Buildr::Eclipse::Java</a>
  
    <li><a href="../Buildr/Eclipse/Options.html">Buildr::Eclipse::Options</a>
  
    <li><a href="../Buildr/Eclipse/Plugin.html">Buildr::Eclipse::Plugin</a>
  
    <li><a href="../Buildr/Eclipse/Scala.html">Buildr::Eclipse::Scala</a>
  
    <li><a href="../Buildr/Emma.html">Buildr::Emma</a>
  
    <li><a href="../Buildr/Extension.html">Buildr::Extension</a>
  
    <li><a href="../Buildr/Extension/ClassMethods.html">Buildr::Extension::ClassMethods</a>
  
    <li><a href="../Buildr/Filter.html">Buildr::Filter</a>
  
    <li><a href="../Buildr/Filter/Mapper.html">Buildr::Filter::Mapper</a>
  
    <li><a href="../Buildr/GitRelease.html">Buildr::GitRelease</a>
  
    <li><a href="../Buildr/Groovy.html">Buildr::Groovy</a>
  
    <li><a href="../Buildr/Groovy/EasyB.html">Buildr::Groovy::EasyB</a>
  
    <li><a href="../Buildr/Groovy/GroovySH.html">Buildr::Groovy::GroovySH</a>
  
    <li><a href="../Buildr/Groovy/Groovyc.html">Buildr::Groovy::Groovyc</a>
  
    <li><a href="../Buildr/HgRelease.html">Buildr::HgRelease</a>
  
    <li><a href="../Buildr/IntegrationTestsTask.html">Buildr::IntegrationTestsTask</a>
  
    <li><a href="../Buildr/IntellijIdea.html">Buildr::IntellijIdea</a>
  
    <li><a href="../Buildr/IntellijIdea/IdeaFile.html">Buildr::IntellijIdea::IdeaFile</a>
  
    <li><a href="../Buildr/IntellijIdea/IdeaModule.html">Buildr::IntellijIdea::IdeaModule</a>
  
    <li><a href="../Buildr/IntellijIdea/IdeaProject.html">Buildr::IntellijIdea::IdeaProject</a>
  
    <li><a href="../Buildr/IntellijIdea/ProjectExtension.html">Buildr::IntellijIdea::ProjectExtension</a>
  
    <li><a href="../Buildr/JBehave.html">Buildr::JBehave</a>
  
    <li><a href="../Buildr/JMock.html">Buildr::JMock</a>
  
    <li><a href="../Buildr/JRebel.html">Buildr::JRebel</a>
  
    <li><a href="../Buildr/JUnit.html">Buildr::JUnit</a>
  
    <li><a href="../Buildr/JUnit/Report.html">Buildr::JUnit::Report</a>
  
    <li><a href="../Buildr/Layout.html">Buildr::Layout</a>
  
    <li><a href="../Buildr/Layout/Default.html">Buildr::Layout::Default</a>
  
    <li><a href="../Buildr/MultiTest.html">Buildr::MultiTest</a>
  
    <li><a href="../Buildr/OptionalArtifact.html">Buildr::OptionalArtifact</a>
  
    <li><a href="../Buildr/Options.html">Buildr::Options</a>
  
    <li><a href="../Buildr/Options/Proxies.html">Buildr::Options::Proxies</a>
  
    <li><a href="../Buildr/POM.html">Buildr::POM</a>
  
    <li><a href="../Buildr/Package.html">Buildr::Package</a>
  
    <li><a href="../Buildr/PackageGemTask.html">Buildr::PackageGemTask</a>
  
    <li><a href="../Buildr/Packaging.html">Buildr::Packaging</a>
  
    <li><a href="../Buildr/Packaging/Java.html">Buildr::Packaging::Java</a>
  
    <li><a href="../Buildr/Packaging/Java/AarTask.html">Buildr::Packaging::Java::AarTask</a>
  
    <li><a href="../Buildr/Packaging/Java/EarTask.html">Buildr::Packaging::Java::EarTask</a>
  
    <li><a href="../Buildr/Packaging/Java/JarTask.html">Buildr::Packaging::Java::JarTask</a>
  
    <li><a href="../Buildr/Packaging/Java/Manifest.html">Buildr::Packaging::Java::Manifest</a>
  
    <li><a href="../Buildr/Packaging/Java/WarTask.html">Buildr::Packaging::Java::WarTask</a>
  
    <li><a href="../Buildr/Packaging/Scala.html">Buildr::Packaging::Scala</a>
  
    <li><a href="../Buildr/ProcessStatus.html">Buildr::ProcessStatus</a>
  
    <li><a href="../Buildr/Project.html">Buildr::Project</a>
  
    <li><a href="../Buildr/RSpec.html">Buildr::RSpec</a>
  
    <li><a href="../Buildr/Repositories.html">Buildr::Repositories</a>
  
    <li><a href="../Buildr/ResourcesTask.html">Buildr::ResourcesTask</a>
  
    <li><a href="../Buildr/Run.html">Buildr::Run</a>
  
    <li><a href="../Buildr/Run/Base.html">Buildr::Run::Base</a>
  
    <li><a href="../Buildr/Run/JavaRunner.html">Buildr::Run::JavaRunner</a>
  
    <li><a href="../Buildr/Run/RunTask.html">Buildr::Run::RunTask</a>
  
    <li><a href="../Buildr/Scala.html">Buildr::Scala</a>
  
    <li><a href="../Buildr/Scala.html">Buildr::Scala</a>
  
    <li><a href="../Buildr/Scala/Check.html">Buildr::Scala::Check</a>
  
    <li><a href="../Buildr/Scala/Mockito.html">Buildr::Scala::Mockito</a>
  
    <li><a href="../Buildr/Scala/ProjectExtension.html">Buildr::Scala::ProjectExtension</a>
  
    <li><a href="../Buildr/Scala/ScalaShell.html">Buildr::Scala::ScalaShell</a>
  
    <li><a href="../Buildr/Scala/ScalaTest.html">Buildr::Scala::ScalaTest</a>
  
    <li><a href="../Buildr/Scala/Scalac.html">Buildr::Scala::Scalac</a>
  
    <li><a href="../Buildr/Compiler/Javac.html">Buildr::Scala::Scalac::Javac</a>
  
    <li><a href="../Buildr/Scala/ScalacOptions.html">Buildr::Scala::ScalacOptions</a>
  
    <li><a href="../Buildr/Scala/Specs.html">Buildr::Scala::Specs</a>
  
    <li><a href="../Buildr/Scala/Specs2.html">Buildr::Scala::Specs2</a>
  
    <li><a href="../Buildr/Settings.html">Buildr::Settings</a>
  
    <li><a href="../Buildr/Shell.html">Buildr::Shell</a>
  
    <li><a href="../Buildr/Shell/Base.html">Buildr::Shell::Base</a>
  
    <li><a href="../Buildr/Shell/BeanShell.html">Buildr::Shell::BeanShell</a>
  
    <li><a href="../Buildr/Shell/Clojure.html">Buildr::Shell::Clojure</a>
  
    <li><a href="../Buildr/Shell/JIRB.html">Buildr::Shell::JIRB</a>
  
    <li><a href="../Buildr/Shell/ShellTask.html">Buildr::Shell::ShellTask</a>
  
    <li><a href="../Buildr/SvnRelease.html">Buildr::SvnRelease</a>
  
    <li><a href="../Buildr/TarTask.html">Buildr::TarTask</a>
  
    <li><a href="../Buildr/Test.html">Buildr::Test</a>
  
    <li><a href="../Buildr/Test/SkipIfNoTest.html">Buildr::Test::SkipIfNoTest</a>
  
    <li><a href="../Buildr/TestFramework.html">Buildr::TestFramework</a>
  
    <li><a href="../Buildr/TestFramework/Base.html">Buildr::TestFramework::Base</a>
  
    <li><a href="../Buildr/TestFramework/JRubyBased.html">Buildr::TestFramework::JRubyBased</a>
  
    <li><a href="../Buildr/TestFramework/JRubyBased/ClassMethods.html">Buildr::TestFramework::JRubyBased::ClassMethods</a>
  
    <li><a href="../Buildr/TestFramework/Java.html">Buildr::TestFramework::Java</a>
  
    <li><a href="../Buildr/TestFramework/TestResult.html">Buildr::TestFramework::TestResult</a>
  
    <li><a href="../Buildr/TestFramework/TestResult/Error.html">Buildr::TestFramework::TestResult::Error</a>
  
    <li><a href="../Buildr/TestFramework/TestResult/YamlFormatter.html">Buildr::TestFramework::TestResult::YamlFormatter</a>
  
    <li><a href="../Buildr/TestNG.html">Buildr::TestNG</a>
  
    <li><a href="../Buildr/TestTask.html">Buildr::TestTask</a>
  
    <li><a href="../Buildr/Unzip.html">Buildr::Unzip</a>
  
    <li><a href="../Buildr/Util.html">Buildr::Util</a>
  
    <li><a href="../Buildr/VersionRequirement.html">Buildr::VersionRequirement</a>
  
    <li><a href="../Buildr/ZipTask.html">Buildr::ZipTask</a>
  
    <li><a href="../Resolv.html">Resolv</a>
  
    <li><a href="../Resolv/DNS.html">Resolv::DNS</a>
  
    <li><a href="../Resolv/DNS/Config.html">Resolv::DNS::Config</a>
  
    <li><a href="../Resolv/DNS/Config/NXDomain.html">Resolv::DNS::Config::NXDomain</a>
  
    <li><a href="../Resolv/DNS/Config/OtherResolvError.html">Resolv::DNS::Config::OtherResolvError</a>
  
    <li><a href="../Resolv/DNS/DecodeError.html">Resolv::DNS::DecodeError</a>
  
    <li><a href="../Resolv/DNS/EncodeError.html">Resolv::DNS::EncodeError</a>
  
    <li><a href="../Resolv/DNS/Name.html">Resolv::DNS::Name</a>
  
    <li><a href="../Resolv/DNS/Query.html">Resolv::DNS::Query</a>
  
    <li><a href="../Resolv/DNS/Requester.html">Resolv::DNS::Requester</a>
  
    <li><a href="../Resolv/DNS/Requester/RequestError.html">Resolv::DNS::Requester::RequestError</a>
  
    <li><a href="../Resolv/DNS/Resource.html">Resolv::DNS::Resource</a>
  
    <li><a href="../Resolv/DNS/Resource/ANY.html">Resolv::DNS::Resource::ANY</a>
  
    <li><a href="../Resolv/DNS/Resource/CNAME.html">Resolv::DNS::Resource::CNAME</a>
  
    <li><a href="../Resolv/DNS/Resource/DomainName.html">Resolv::DNS::Resource::DomainName</a>
  
    <li><a href="../Resolv/DNS/Resource/Generic.html">Resolv::DNS::Resource::Generic</a>
  
    <li><a href="../Resolv/DNS/Resource/HINFO.html">Resolv::DNS::Resource::HINFO</a>
  
    <li><a href="../Resolv/DNS/Resource/IN.html">Resolv::DNS::Resource::IN</a>
  
    <li><a href="../Resolv/DNS/Resource/IN/A.html">Resolv::DNS::Resource::IN::A</a>
  
    <li><a href="../Resolv/DNS/Resource/IN/AAAA.html">Resolv::DNS::Resource::IN::AAAA</a>
  
    <li><a href="../Resolv/DNS/Resource/IN/SRV.html">Resolv::DNS::Resource::IN::SRV</a>
  
    <li><a href="../Resolv/DNS/Resource/IN/WKS.html">Resolv::DNS::Resource::IN::WKS</a>
  
    <li><a href="../Resolv/DNS/Resource/MINFO.html">Resolv::DNS::Resource::MINFO</a>
  
    <li><a href="../Resolv/DNS/Resource/MX.html">Resolv::DNS::Resource::MX</a>
  
    <li><a href="../Resolv/DNS/Resource/NS.html">Resolv::DNS::Resource::NS</a>
  
    <li><a href="../Resolv/DNS/Resource/PTR.html">Resolv::DNS::Resource::PTR</a>
  
    <li><a href="../Resolv/DNS/Resource/SOA.html">Resolv::DNS::Resource::SOA</a>
  
    <li><a href="../Resolv/DNS/Resource/TXT.html">Resolv::DNS::Resource::TXT</a>
  
    <li><a href="../Resolv/Hosts.html">Resolv::Hosts</a>
  
    <li><a href="../Resolv/IPv4.html">Resolv::IPv4</a>
  
    <li><a href="../Resolv/IPv6.html">Resolv::IPv6</a>
  
    <li><a href="../Resolv/ResolvError.html">Resolv::ResolvError</a>
  
    <li><a href="../Resolv/ResolvTimeout.html">Resolv::ResolvTimeout</a>
  
    <li><a href="../OptionParser.html">OptionParser</a>
  
    <li><a href="../OptionParser/Acceptables.html">OptionParser::Acceptables</a>
  
    <li><a href="../OptionParser/AmbiguousArgument.html">OptionParser::AmbiguousArgument</a>
  
    <li><a href="../OptionParser/AmbiguousOption.html">OptionParser::AmbiguousOption</a>
  
    <li><a href="../OptionParser/Arguable.html">OptionParser::Arguable</a>
  
    <li><a href="../OptionParser/CompletingHash.html">OptionParser::CompletingHash</a>
  
    <li><a href="../OptionParser/Completion.html">OptionParser::Completion</a>
  
    <li><a href="../OptionParser/InvalidArgument.html">OptionParser::InvalidArgument</a>
  
    <li><a href="../OptionParser/InvalidOption.html">OptionParser::InvalidOption</a>
  
    <li><a href="../OptionParser/List.html">OptionParser::List</a>
  
    <li><a href="../OptionParser/MissingArgument.html">OptionParser::MissingArgument</a>
  
    <li><a href="../OptionParser/NeedlessArgument.html">OptionParser::NeedlessArgument</a>
  
    <li><a href="../OptionParser/OptionMap.html">OptionParser::OptionMap</a>
  
    <li><a href="../OptionParser/ParseError.html">OptionParser::ParseError</a>
  
    <li><a href="../OptionParser/Switch.html">OptionParser::Switch</a>
  
    <li><a href="../OptionParser/Switch/NoArgument.html">OptionParser::Switch::NoArgument</a>
  
    <li><a href="../OptionParser/Switch/OptionalArgument.html">OptionParser::Switch::OptionalArgument</a>
  
    <li><a href="../OptionParser/Switch/PlacedArgument.html">OptionParser::Switch::PlacedArgument</a>
  
    <li><a href="../OptionParser/Switch/RequiredArgument.html">OptionParser::Switch::RequiredArgument</a>
  
    <li><a href="../Prime.html">Prime</a>
  
    <li><a href="../Prime/EratosthenesGenerator.html">Prime::EratosthenesGenerator</a>
  
    <li><a href="../Prime/EratosthenesSieve.html">Prime::EratosthenesSieve</a>
  
    <li><a href="../Prime/Generator23.html">Prime::Generator23</a>
  
    <li><a href="../Prime/OldCompatibility.html">Prime::OldCompatibility</a>
  
    <li><a href="../Prime/PseudoPrimeGenerator.html">Prime::PseudoPrimeGenerator</a>
  
    <li><a href="../Prime/TrialDivision.html">Prime::TrialDivision</a>
  
    <li><a href="../Prime/TrialDivisionGenerator.html">Prime::TrialDivisionGenerator</a>
  
    <li><a href="../FileUtils.html">FileUtils</a>
  
    <li><a href="../FileUtils/DryRun.html">FileUtils::DryRun</a>
  
    <li><a href="../FileUtils/LowMethods.html">FileUtils::LowMethods</a>
  
    <li><a href="../FileUtils/NoWrite.html">FileUtils::NoWrite</a>
  
    <li><a href="../FileUtils/StreamUtils_.html">FileUtils::StreamUtils_</a>
  
    <li><a href="../FileUtils/Verbose.html">FileUtils::Verbose</a>
  
    <li><a href="../GetoptLong.html">GetoptLong</a>
  
    <li><a href="../GetoptLong/AmbiguousOption.html">GetoptLong::AmbiguousOption</a>
  
    <li><a href="../GetoptLong/Error.html">GetoptLong::Error</a>
  
    <li><a href="../GetoptLong/InvalidOption.html">GetoptLong::InvalidOption</a>
  
    <li><a href="../GetoptLong/MissingArgument.html">GetoptLong::MissingArgument</a>
  
    <li><a href="../GetoptLong/NeedlessArgument.html">GetoptLong::NeedlessArgument</a>
  
    <li><a href="../Logger.html">Logger</a>
  
    <li><a href="../Logger/Application.html">Logger::Application</a>
  
    <li><a href="../Logger/Formatter.html">Logger::Formatter</a>
  
    <li><a href="../Logger/LogDevice.html">Logger::LogDevice</a>
  
    <li><a href="../Logger/LogDevice/LogDeviceMutex.html">Logger::LogDevice::LogDeviceMutex</a>
  
    <li><a href="../Logger/Severity.html">Logger::Severity</a>
  
    <li><a href="../Object.html">Object</a>
  
    <li><a href="../Buildr/Scala.html">Object::Scala</a>
  
    <li><a href="../Sync.html">Object::Synchronizer</a>
  
    <li><a href="../Sync_m.html">Object::Synchronizer_m</a>
  
    <li><a href="../ThreadsWait.html">Object::ThWait</a>
  
    <li><a href="../Timeout/Error.html">Object::TimeoutError</a>
  
    <li><a href="../PrettyPrint.html">PrettyPrint</a>
  
    <li><a href="../PrettyPrint/Breakable.html">PrettyPrint::Breakable</a>
  
    <li><a href="../PrettyPrint/Group.html">PrettyPrint::Group</a>
  
    <li><a href="../PrettyPrint/GroupQueue.html">PrettyPrint::GroupQueue</a>
  
    <li><a href="../PrettyPrint/SingleLine.html">PrettyPrint::SingleLine</a>
  
    <li><a href="../PrettyPrint/Text.html">PrettyPrint::Text</a>
  
    <li><a href="../URI.html">URI</a>
  
    <li><a href="../URI/FILE.html">URI::FILE</a>
  
    <li><a href="../URI/FTP.html">URI::FTP</a>
  
    <li><a href="../URI/Generic.html">URI::Generic</a>
  
    <li><a href="../URI/HTTP.html">URI::HTTP</a>
  
    <li><a href="../URI/NotFoundError.html">URI::NotFoundError</a>
  
    <li><a href="../OpenURI.html">OpenURI</a>
  
    <li><a href="../OpenURI/HTTPError.html">OpenURI::HTTPError</a>
  
    <li><a href="../OpenURI/HTTPRedirect.html">OpenURI::HTTPRedirect</a>
  
    <li><a href="../OpenURI/Meta.html">OpenURI::Meta</a>
  
    <li><a href="../OpenURI/OpenRead.html">OpenURI::OpenRead</a>
  
    <li><a href="../Sync_m.html">Sync_m</a>
  
    <li><a href="../Sync_m.html">Sync_m</a>
  
    <li><a href="../Sync_m/Err.html">Sync_m::Err</a>
  
    <li><a href="../Sync_m/Err/LockModeFailer.html">Sync_m::Err::LockModeFailer</a>
  
    <li><a href="../Sync_m/Err/UnknownLocker.html">Sync_m::Err::UnknownLocker</a>
  
    <li><a href="../CSV.html">CSV</a>
  
    <li><a href="../CSV/MalformedCSVError.html">CSV::MalformedCSVError</a>
  
    <li><a href="../CSV/Row.html">CSV::Row</a>
  
    <li><a href="../CSV/Table.html">CSV::Table</a>
  
    <li><a href="../Java.html">Java</a>
  
    <li><a href="../Java/Commands.html">Java::Commands</a>
  
    <li><a href="../Java/JavaWrapper.html">Java::JavaWrapper</a>
  
    <li><a href="../Java/Options.html">Java::Options</a>
  
    <li><a href="../PP.html">PP</a>
  
    <li><a href="../PP/ObjectMixin.html">PP::ObjectMixin</a>
  
    <li><a href="../PP/PPMethods.html">PP::PPMethods</a>
  
    <li><a href="../PP/SingleLine.html">PP::SingleLine</a>
  
    <li><a href="../Digest.html">Digest</a>
  
    <li><a href="../Digest/Class.html">Digest::Class</a>
  
    <li><a href="../Digest/Instance.html">Digest::Instance</a>
  
    <li><a href="../ERB.html">ERB</a>
  
    <li><a href="../ERB/DefMethod.html">ERB::DefMethod</a>
  
    <li><a href="../ERB/Util.html">ERB::Util</a>
  
    <li><a href="../Gem.html">Gem</a>
  
    <li><a href="../Gem/LoadError.html">Gem::LoadError</a>
  
    <li><a href="../Gem/Version.html">Gem::Version</a>
  
    <li><a href="../IRB.html">IRB</a>
  
    <li><a href="../IRB/Abort.html">IRB::Abort</a>
  
    <li><a href="../IRB/Irb.html">IRB::Irb</a>
  
    <li><a href="../MonitorMixin.html">MonitorMixin</a>
  
    <li><a href="../MonitorMixin/ConditionVariable.html">MonitorMixin::ConditionVariable</a>
  
    <li><a href="../MonitorMixin/ConditionVariable/Timeout.html">MonitorMixin::ConditionVariable::Timeout</a>
  
    <li><a href="../Psych.html">Psych</a>
  
    <li><a href="../Psych/BadAlias.html">Psych::BadAlias</a>
  
    <li><a href="../Psych/Exception.html">Psych::Exception</a>
  
    <li><a href="../Scanf.html">Scanf</a>
  
    <li><a href="../Timeout.html">Timeout</a>
  
    <li><a href="../Timeout/Error.html">Timeout::Error</a>
  
    <li><a href="../Timeout/Error.html">Timeout::Error</a>
  
    <li><a href="../TkComm.html">TkComm</a>
  
    <li><a href="../TkComm/Tk_CMDTBL.html">TkComm::Tk_CMDTBL</a>
  
    <li><a href="../TkComm/Tk_WINDOWS.html">TkComm::Tk_WINDOWS</a>
  
    <li><a href="../TkCore.html">TkCore</a>
  
    <li><a href="../MultiTkIp.html">TkCore::INTERP</a>
  
    <li><a href="../TkCore/Tk_OBJECT_TABLE.html">TkCore::Tk_OBJECT_TABLE</a>
  
    <li><a href="../Zip.html">Zip</a>
  
    <li><a href="../Zip/ZipEntry.html">Zip::ZipEntry</a>
  
    <li><a href="../Zip/ZipEntrySet.html">Zip::ZipEntrySet</a>
  
    <li><a href="../Benchmark.html">Benchmark</a>
  
    <li><a href="../Benchmark/Tms.html">Benchmark::Tms</a>
  
    <li><a href="../DEBUGGER__.html">DEBUGGER__</a>
  
    <li><a href="../DEBUGGER__/Context.html">DEBUGGER__::Context</a>
  
    <li><a href="../Exception2MessageMapper.html">Exception2MessageMapper</a>
  
    <li><a href="../Exception2MessageMapper.html">Exception2MessageMapper::E2MM</a>
  
    <li><a href="../File.html">File</a>
  
    <li><a href="../File/Stat.html">File::Stat</a>
  
    <li><a href="../MultiTkIp.html">MultiTkIp</a>
  
    <li><a href="../MultiTkIp/Command_Queue.html">MultiTkIp::Command_Queue</a>
  
    <li><a href="../PStore.html">PStore</a>
  
    <li><a href="../PStore/Error.html">PStore::Error</a>
  
    <li><a href="../RDoc.html">RDoc</a>
  
    <li><a href="../RDoc/Error.html">RDoc::Error</a>
  
    <li><a href="../Rake.html">Rake</a>
  
    <li><a href="../Rake/FileTask.html">Rake::FileTask</a>
  
    <li><a href="../Socket.html">Socket</a>
  
    <li><a href="../Socket/UDPSource.html">Socket::UDPSource</a>
  
    <li><a href="../Sync.html">Sync</a>
  
    <li><a href="../Sync.html">Sync</a>
  
    <li><a href="../TSort.html">TSort</a>
  
    <li><a href="../TSort/Cyclic.html">TSort::Cyclic</a>
  
    <li><a href="../Tempfile.html">Tempfile</a>
  
    <li><a href="../ThreadsWait.html">ThreadsWait</a>
  
    <li><a href="../ThreadsWait.html">ThreadsWait</a>
  
    <li><a href="../Vector.html">Vector</a>
  
    <li><a href="../Vector/ZeroVectorError.html">Vector::ZeroVectorError</a>
  
    <li><a href="../WeakRef.html">WeakRef</a>
  
    <li><a href="../WeakRef/RefError.html">WeakRef::RefError</a>
  
    <li><a href="../Abbrev.html">Abbrev</a>
  
    <li><a href="../Addrinfo.html">Addrinfo</a>
  
    <li><a href="../Base64.html">Base64</a>
  
    <li><a href="../BasicSocket.html">BasicSocket</a>
  
    <li><a href="../CGI.html">CGI</a>
  
    <li><a href="../CMath.html">CMath</a>
  
    <li><a href="../ConditionVariable.html">ConditionVariable</a>
  
    <li><a href="../DL.html">DL</a>
  
    <li><a href="../Date.html">Date</a>
  
    <li><a href="../Delegator.html">Delegator</a>
  
    <li><a href="../Dir.html">Dir</a>
  
    <li><a href="../ENV.html">ENV</a>
  
    <li><a href="../Enumerable.html">Enumerable</a>
  
    <li><a href="../Fiddle.html">Fiddle</a>
  
    <li><a href="../Find.html">Find</a>
  
    <li><a href="../Float.html">Float</a>
  
    <li><a href="../Forwardable.html">Forwardable</a>
  
    <li><a href="../GServer.html">GServer</a>
  
    <li><a href="../Hash.html">Hash</a>
  
    <li><a href="../IO.html">IO</a>
  
    <li><a href="../IPAddr.html">IPAddr</a>
  
    <li><a href="../IPSocket.html">IPSocket</a>
  
    <li><a href="../Integer.html">Integer</a>
  
    <li><a href="../JSON.html">JSON</a>
  
    <li><a href="../Kconv.html">Kconv</a>
  
    <li><a href="../Kernel.html">Kernel</a>
  
    <li><a href="../MatchData.html">MatchData</a>
  
    <li><a href="../Math.html">Math</a>
  
    <li><a href="../Matrix.html">Matrix</a>
  
    <li><a href="../Module.html">Module</a>
  
    <li><a href="../Monitor.html">Monitor</a>
  
    <li><a href="../MultiTkIp_OK.html">MultiTkIp_OK</a>
  
    <li><a href="../MultiTkIp_PseudoToplevel_Evaluable.html">MultiTkIp_PseudoToplevel_Evaluable</a>
  
    <li><a href="../Mutex_m.html">Mutex_m</a>
  
    <li><a href="../Numeric.html">Numeric</a>
  
    <li><a href="../Observable.html">Observable</a>
  
    <li><a href="../Open3.html">Open3</a>
  
    <li><a href="../OpenObject.html">OpenObject</a>
  
    <li><a href="../OpenStruct.html">OpenStruct</a>
  
    <li><a href="../Pathname.html">Pathname</a>
  
    <li><a href="../Profiler__.html">Profiler__</a>
  
    <li><a href="../ProgressBar.html">ProgressBar</a>
  
    <li><a href="../Queue.html">Queue</a>
  
    <li><a href="../RSS.html">RSS</a>
  
    <li><a href="../Range.html">Range</a>
  
    <li><a href="../Rational.html">Rational</a>
  
    <li><a href="../RemoteTkIp.html">RemoteTkIp</a>
  
    <li><a href="../SOCKSSocket.html">SOCKSSocket</a>
  
    <li><a href="../STRING_OR_FAILED_FORMAT.html">STRING_OR_FAILED_FORMAT</a>
  
    <li><a href="../SecureRandom.html">SecureRandom</a>
  
    <li><a href="../Set.html">Set</a>
  
    <li><a href="../Shell.html">Shell</a>
  
    <li><a href="../Shellwords.html">Shellwords</a>
  
    <li><a href="../SimpleDelegator.html">SimpleDelegator</a>
  
    <li><a href="../SingleForwardable.html">SingleForwardable</a>
  
    <li><a href="../Singleton.html">Singleton</a>
  
    <li><a href="../SizedQueue.html">SizedQueue</a>
  
    <li><a href="../SortedSet.html">SortedSet</a>
  
    <li><a href="../Struct.html">Struct</a>
  
    <li><a href="../Syck.html">Syck</a>
  
    <li><a href="../TCPSocket.html">TCPSocket</a>
  
    <li><a href="../TclTkIp.html">TclTkIp</a>
  
    <li><a href="../TclTkLib.html">TclTkLib</a>
  
    <li><a href="../ThreadError.html">ThreadError</a>
  
    <li><a href="../Time.html">Time</a>
  
    <li><a href="../Tracer.html">Tracer</a>
  
    <li><a href="../UDPSocket.html">UDPSocket</a>
  
    <li><a href="../WEBrick.html">WEBrick</a>
  
    <li><a href="../YAML.html">YAML</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module Buildr::Package</h1>

  <div id="description" class="description">
    
<p>Methods added to <a href="Project.html">Project</a> to support packaging
and tasks for packaging, installing and uploading packages.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-group" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">group</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Group used for packaging. Inherited from parent project. Defaults to the
top-level project name.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">version</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Version used for packaging. Inherited from parent project.</p>
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">id</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>The project’s identifier. Same as the project name, with colons replaced by
dashes. The ID for project foo:bar is foo-bar.</p>
          

          
          <div class="method-source-code" id="id-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/package.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">id</span>
  <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">':'</span>, <span class="ruby-string">'-'</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- id-source -->
          
        </div>

        

        
      </div><!-- id-method -->

    
      <div id="method-i-package" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            package(type, spec?) &rarr; task
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Defines and returns a package created by this project.</p>

<p>The first argument declares the package type. For example, :jar to create a
JAR file. The package is an artifact that takes its artifact specification
from the project. You can override the artifact specification by passing
various options in the second argument, for example:</p>

<pre class="ruby"><span class="ruby-identifier">package</span>(:<span class="ruby-identifier">zip</span>, :<span class="ruby-identifier">classifier=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'sources'</span>)
</pre>

<p>Packages that are ZIP files provides various ways to include additional
files, directories, and even merge ZIPs together. Have a look at <a
href="ZipTask.html">ZipTask</a> for more information. In case you’re
wondering, JAR and WAR packages are ZIP files.</p>

<p>You can also enhance a JAR package using the <a
href="ArchiveTask.html#method-i-with">Buildr::ArchiveTask#with</a> method
that accepts the following options:</p>
<ul><li>
<p>:manifest – Specifies how to create the MANIFEST.MF. By default, uses the
project’s manifest property.</p>
</li><li>
<p>:meta_inf – Specifies files to be included in the META-INF directory. By
default, uses the project’s meta-inf property.</p>
</li></ul>

<p>The WAR package supports the same options and adds a few more:</p>
<ul><li>
<p>:classes – Directories of class files to include in WEB-INF/classes.
Includes the compile target directory by default.</p>
</li><li>
<p>:libs – Artifacts and files to include in WEB-INF/libs. Includes the
compile classpath dependencies by default.</p>
</li></ul>

<p>For example:</p>

<pre class="ruby"> <span class="ruby-identifier">define</span> <span class="ruby-string">'project'</span> <span class="ruby-keyword">do</span>
   <span class="ruby-identifier">define</span> <span class="ruby-string">'beans'</span> <span class="ruby-keyword">do</span>
     <span class="ruby-identifier">package</span> :<span class="ruby-identifier">jar</span>
   <span class="ruby-keyword">end</span>
   <span class="ruby-identifier">define</span> <span class="ruby-string">'webapp'</span> <span class="ruby-keyword">do</span>
     <span class="ruby-identifier">compile</span>.<span class="ruby-identifier">with</span> <span class="ruby-identifier">project</span>(<span class="ruby-string">'beans'</span>)
     <span class="ruby-identifier">package</span>(:<span class="ruby-identifier">war</span>).<span class="ruby-identifier">with</span> :<span class="ruby-identifier">libs=</span><span class="ruby-operator">&gt;</span><span class="ruby-constant">MYSQL_JDBC</span>
   <span class="ruby-keyword">end</span>
   <span class="ruby-identifier">package</span>(:<span class="ruby-identifier">zip</span>, :<span class="ruby-identifier">classifier=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'sources'</span>).<span class="ruby-identifier">include</span> <span class="ruby-identifier">path_to</span>(<span class="ruby-string">'.'</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>Two other packaging types are:</p>
<ul><li>
<p>package :sources – Creates a JAR file with the source code and classifier
‘sources’, for use by IDEs.</p>
</li><li>
<p>package :javadoc – Creates a ZIP file with the Javadocs and classifier
‘javadoc’. You can use the javadoc method to further customize it.</p>
</li></ul>

<p>A package is also an artifact. The following tasks operate on packages
created by the project:</p>

<pre>buildr upload     # Upload packages created by the project
buildr install    # Install packages created by the project
buildr package    # Create packages
buildr uninstall  # Remove previously installed packages</pre>

<p>If you want to add additional packaging types, implement a method with the
name <a href="http://type">package_as_</a> that accepts a file name and
returns an appropriate <a href="../Rake.html">Rake</a> task.  For example:</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">package_as_zip</span>(<span class="ruby-identifier">file_name</span>) <span class="ruby-comment">#:nodoc:</span>
  <span class="ruby-constant">ZipTask</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-identifier">file_name</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>The file name is determined from the specification passed to the package
method, however, some packagers need to override this.  For example,
package(:sources) produces a file with the extension ‘jar’ and the
classifier ‘sources’.  If you need to overwrite the default implementation,
you should also include a method named <a
href="http://type">package_as_</a>_spec.  For example:</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">package_as_sources_spec</span>(<span class="ruby-identifier">spec</span>) <span class="ruby-comment">#:nodoc:</span>
  <span class="ruby-comment"># Change the source distribution to .zip extension</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">merge</span>({ :<span class="ruby-identifier">type=</span><span class="ruby-operator">&gt;</span>:<span class="ruby-identifier">zip</span>, :<span class="ruby-identifier">classifier=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'sources'</span> })
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="package-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/package.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">package</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spec</span> = <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span>.<span class="ruby-identifier">dup</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">no_options</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-comment"># since spec is mutated</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">:file</span>]
    <span class="ruby-identifier">rake_check_options</span> <span class="ruby-identifier">spec</span>, <span class="ruby-value">:file</span>, <span class="ruby-value">:type</span>
    <span class="ruby-identifier">spec</span>[<span class="ruby-value">:type</span>] = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">:type</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">:file</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">'.'</span>).<span class="ruby-identifier">last</span>.<span class="ruby-identifier">to_sym</span>
    <span class="ruby-identifier">file_name</span> = <span class="ruby-identifier">spec</span>[<span class="ruby-value">:file</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">rake_check_options</span> <span class="ruby-identifier">spec</span>, *<span class="ruby-constant">ActsAsArtifact</span><span class="ruby-operator">::</span><span class="ruby-constant">ARTIFACT_ATTRIBUTES</span>
    <span class="ruby-identifier">spec</span>[<span class="ruby-value">:id</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>
    <span class="ruby-identifier">spec</span>[<span class="ruby-value">:group</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">group</span>
    <span class="ruby-identifier">spec</span>[<span class="ruby-value">:version</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">version</span>
    <span class="ruby-identifier">spec</span>[<span class="ruby-value">:type</span>] = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">:type</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">compile</span>.<span class="ruby-identifier">packaging</span> <span class="ruby-operator">||</span> <span class="ruby-value">:zip</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">packager</span> = <span class="ruby-identifier">method</span>(<span class="ruby-node">&quot;package_as_#{spec[:type]}&quot;</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-identifier">fail</span>(<span class="ruby-node">&quot;Don't know how to create a package of type #{spec[:type]}&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">packager</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">file_name</span>
      <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;package_as_#{spec[:type]}_spec&quot;</span>, <span class="ruby-identifier">spec</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-node">&quot;package_as_#{spec[:type]}_spec&quot;</span>)
      <span class="ruby-identifier">file_name</span> = <span class="ruby-identifier">path_to</span>(<span class="ruby-value">:target</span>, <span class="ruby-constant">Artifact</span>.<span class="ruby-identifier">hash_to_file_name</span>(<span class="ruby-identifier">spec</span>))
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">package</span> = (<span class="ruby-identifier">no_options</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">packages</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">pkg</span><span class="ruby-operator">|</span> <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">:type</span>] <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">:id</span>]) <span class="ruby-operator">&amp;&amp;</span>
      (<span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:classifier</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">classifier</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">:classifier</span>]}) <span class="ruby-operator">||</span>
      <span class="ruby-identifier">packages</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">pkg</span><span class="ruby-operator">|</span> <span class="ruby-identifier">pkg</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">file_name</span> } <span class="ruby-operator">||</span>
      <span class="ruby-identifier">packager</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">file_name</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Buildr</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">deprecated</span> <span class="ruby-string">&quot;We changed the way package_as methods are implemented.  See the package method documentation for more details.&quot;</span>
    <span class="ruby-identifier">file_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">path_to</span>(<span class="ruby-value">:target</span>, <span class="ruby-constant">Artifact</span>.<span class="ruby-identifier">hash_to_file_name</span>(<span class="ruby-identifier">spec</span>))
    <span class="ruby-identifier">package</span> = <span class="ruby-identifier">packager</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">file_name</span>, <span class="ruby-identifier">spec</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># First time: prepare package for install, uninstall and upload tasks.</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">packages</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">package</span>)
    <span class="ruby-comment"># We already run build before package, but we also need to do so if the package itself is</span>
    <span class="ruby-comment"># used as a dependency, before we get to run the package task.</span>
    <span class="ruby-identifier">task</span> <span class="ruby-string">'package'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">package</span>
    <span class="ruby-identifier">package</span>.<span class="ruby-identifier">enhance</span> [<span class="ruby-identifier">task</span>(<span class="ruby-string">'build'</span>)]
    <span class="ruby-identifier">package</span>.<span class="ruby-identifier">enhance</span> { <span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Packaging #{File.basename(file_name)}&quot;</span> }
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>[<span class="ruby-value">:file</span>]
      <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">package</span> ; <span class="ruby-keyword">self</span> ; <span class="ruby-keyword">end</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:define_method</span>, <span class="ruby-value">:type</span>) { <span class="ruby-identifier">spec</span>[<span class="ruby-value">:type</span>] }
      <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">package</span> ; <span class="ruby-keyword">self</span> ; <span class="ruby-keyword">end</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:define_method</span>, <span class="ruby-value">:id</span>) { <span class="ruby-keyword">nil</span> }
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># Make it an artifact using the specifications, and tell it how to create a POM.</span>
      <span class="ruby-identifier">package</span>.<span class="ruby-identifier">extend</span> <span class="ruby-constant">ActsAsArtifact</span>
      <span class="ruby-identifier">package</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:apply_spec</span>, <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">only</span>(*<span class="ruby-constant">Artifact</span><span class="ruby-operator">::</span><span class="ruby-constant">ARTIFACT_ATTRIBUTES</span>)

      <span class="ruby-comment"># Create pom associated with package</span>
      <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">package</span>
        <span class="ruby-keyword">def</span> <span class="ruby-identifier">pom</span>
          <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@pom</span>
            <span class="ruby-identifier">pom_filename</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">replace_extension</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>, <span class="ruby-string">'pom'</span>)
            <span class="ruby-identifier">spec</span> = {<span class="ruby-value">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">group</span>, <span class="ruby-value">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">id</span>, <span class="ruby-value">:version=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">version</span>, <span class="ruby-value">:type=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:pom</span>}
            <span class="ruby-ivar">@pom</span> = <span class="ruby-constant">Buildr</span>.<span class="ruby-identifier">artifact</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">pom_filename</span>)
            <span class="ruby-ivar">@pom</span>.<span class="ruby-identifier">content</span> <span class="ruby-ivar">@pom</span>.<span class="ruby-identifier">pom_xml</span>
          <span class="ruby-keyword">end</span>
          <span class="ruby-ivar">@pom</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">file</span>(<span class="ruby-constant">Buildr</span>.<span class="ruby-identifier">repositories</span>.<span class="ruby-identifier">locate</span>(<span class="ruby-identifier">package</span>)=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">package</span>) { <span class="ruby-identifier">package</span>.<span class="ruby-identifier">install</span> }

      <span class="ruby-comment"># Add the package to the list of packages created by this project, and</span>
      <span class="ruby-comment"># register it as an artifact. The later is required so if we look up the spec</span>
      <span class="ruby-comment"># we find the package in the project's target directory, instead of finding it</span>
      <span class="ruby-comment"># in the local repository and attempting to install it.</span>
      <span class="ruby-constant">Artifact</span>.<span class="ruby-identifier">register</span> <span class="ruby-identifier">package</span>, <span class="ruby-identifier">package</span>.<span class="ruby-identifier">pom</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">task</span>(<span class="ruby-string">'install'</span>)   { <span class="ruby-identifier">package</span>.<span class="ruby-identifier">install</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">package</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:install</span>) }
    <span class="ruby-identifier">task</span>(<span class="ruby-string">'uninstall'</span>) { <span class="ruby-identifier">package</span>.<span class="ruby-identifier">uninstall</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">package</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:uninstall</span>) }
    <span class="ruby-identifier">task</span>(<span class="ruby-string">'upload'</span>)    { <span class="ruby-identifier">package</span>.<span class="ruby-identifier">upload</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">package</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:upload</span>) }

    <span class="ruby-identifier">packages</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">package</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">package</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- package-source -->
          
        </div>

        

        
      </div><!-- package-method -->

    
      <div id="method-i-packages" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            packages &rarr; tasks
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns all packages created by this project. A project may create any
number of packages.</p>

<p>This method is used whenever you pass a project to <a
href="../Buildr.html#method-i-artifact">Buildr#artifact</a> or any other
method that accepts artifact specifications and projects. You can use it to
list all packages created by the project. If you want to return a specific
package, it is often more convenient to call <a
href="Package.html#method-i-package">package</a> with the type.</p>
          

          
          <div class="method-source-code" id="packages-source">
            <pre><span class="ruby-comment"># File lib/buildr/packaging/package.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">packages</span>
  <span class="ruby-ivar">@packages</span> <span class="ruby-operator">||=</span> []
<span class="ruby-keyword">end</span></pre>
          </div><!-- packages-source -->
          
        </div>

        

        
      </div><!-- packages-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

